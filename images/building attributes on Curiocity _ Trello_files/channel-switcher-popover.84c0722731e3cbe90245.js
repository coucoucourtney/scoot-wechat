(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{3820:function(e,t,n){"use strict";n.d(t,"c",function(){return y}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return x});var r=n(5),a=n.n(r),o=n(312),i=n(80),c=n(0),l=n.n(c),s=n(3873),u=n.n(s),p=n(532),d=n(17);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var v=function(e){var t=e.children,n=e.description,r=e.rawDescription,o=e.title,i=e.icon;return l.a.createElement(l.a.Fragment,null,i&&l.a.createElement(d.Icon,{name:i,small:!0}),l.a.createElement("span",{className:a()(u.a.title,n&&u.a.withoutMargins)},o||t),(n||r)&&l.a.createElement("p",{className:u.a.description},n||r))},h=function(e){var t=e.appendSeparator,n=e.children;return l.a.createElement("li",{className:a()(u.a.item,t&&u.a.withSeparator)},n)},y=function(e){var t=e.appendSeparator,n=e.testId,r=e.href,o=e.className,c=b(e,["appendSeparator","testId","href","className"]),s=m(Object(p.a)(),2),d=s[0],y=s[1];return l.a.createElement(h,{appendSeparator:t},l.a.createElement(i.a,f({className:a()(u.a.link,o,d&&u.a.linkFocusRing),href:r,testId:n},y),l.a.createElement(v,c)))},g=Object(o.a)("PopoverMenuButton",function(e,t){var n=e.appendSeparator,r=e.onClick,o=e.className,i=e.disabled,c=e.testId,s=b(e,["appendSeparator","onClick","className","disabled","testId"]),d=m(Object(p.a)(),2),y=d[0],g=d[1];return l.a.createElement(h,{appendSeparator:n},l.a.createElement("button",f({className:a()(u.a.link,y&&u.a.linkFocusRing,o),disabled:i,onClick:r,"data-test-id":c,ref:t},g),l.a.createElement(v,s)))}),x=function(e){var t=e.className,n=e.children,r=e.testId;return l.a.createElement("nav",{className:t},l.a.createElement("ul",{"data-test-id":r},n))}},3873:function(e,t,n){var r=n(3874);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,a);r.locals&&(e.exports=r.locals)},3874:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,'._2jR0BZMM5cBReR{background-color:transparent;border:none;background:#fff;border-radius:0;box-shadow:none;color:#172b4d;display:block;height:100%;padding:6px 12px;text-align:left;text-decoration:none;width:100%;transition:none;margin:0;outline:0}._2jR0BZMM5cBReR:hover{background-color:transparent;border:none;box-shadow:none;color:#172b4d;background:rgba(9,30,66,.04)}._2jR0BZMM5cBReR:active{background-color:transparent;border:none;box-shadow:none;color:#172b4d;background:#e4f0f6}._2jR0BZMM5cBReR._1zydsQvvGuxRTQ:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._2jR0BZMM5cBReR._1zydsQvvGuxRTQ:focus{outline:5px auto -webkit-focus-ring-color}}._2jR0BZMM5cBReR[disabled]:active,._2jR0BZMM5cBReR[disabled]:focus,._2jR0BZMM5cBReR[disabled]:hover{background:transparent;color:#a5adba!important}._2jR0BZMM5cBReR[disabled]:active ._225g9OeRSRtf4N,._2jR0BZMM5cBReR[disabled]:focus ._225g9OeRSRtf4N,._2jR0BZMM5cBReR[disabled]:hover ._225g9OeRSRtf4N{color:#a5adba!important}._2jR0BZMM5cBReR[disabled]:active span[name=check],._2jR0BZMM5cBReR[disabled]:focus span[name=check],._2jR0BZMM5cBReR[disabled]:hover span[name=check]{color:#6b778c!important}._2jR0BZMM5cBReR[disabled]:active ._2DBw9GxD3tha0R,._2jR0BZMM5cBReR[disabled]:focus ._2DBw9GxD3tha0R,._2jR0BZMM5cBReR[disabled]:hover ._2DBw9GxD3tha0R{color:#a5adba!important}._1uK2vQ_aMRS2NU{font-size:14px;font-weight:400;line-height:20px}._1uK2vQ_aMRS2NU.l5dERcflZdjE0x{margin:0}._2DBw9GxD3tha0R{color:#5e6c84;font-size:12px;font-weight:400;line-height:16px;margin:4px 0 0;padding:0}._1pCh-d8Vg1eITK:after{background-color:rgba(9,30,66,.13);content:" ";display:block;height:1px;margin:8px auto;width:calc(100% - 20px)}',""]),t.locals={link:"_2jR0BZMM5cBReR",linkFocusRing:"_1zydsQvvGuxRTQ",icon:"_225g9OeRSRtf4N",description:"_2DBw9GxD3tha0R",title:"_1uK2vQ_aMRS2NU",withoutMargins:"l5dERcflZdjE0x",withSeparator:"_1pCh-d8Vg1eITK"}},4086:function(e,t,n){var r=n(4884);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,a);r.locals&&(e.exports=r.locals)},4878:function(e,t,n){var r=n(4879);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,a);r.locals&&(e.exports=r.locals)},4879:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,"._1H45OoU4WkJM8i{margin:0 0 8px}._1LawENaF54c6N4{border-radius:4px;border:1px solid #c1c7d0;width:100%}",""]),t.locals={detailsList:"_1H45OoU4WkJM8i",image:"_1LawENaF54c6N4"}},4880:function(e,t,n){var r=n(4881);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,a);r.locals&&(e.exports=r.locals)},4881:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,"._3x0n2X81GLtNsH{background:#e2e4e6;border-radius:3px;box-shadow:0 1px 0 0 #c4c9cc;box-sizing:border-box;cursor:pointer;display:block;font-weight:700;height:52px;max-width:300px;overflow:hidden;padding:0 0 7px 11px;position:relative;text-decoration:none;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;width:100%}._3x0n2X81GLtNsH:hover{background:#cdd2d4;box-shadow:0 1px 0 0 #a5acb0;color:#172b4d}._3x0n2X81GLtNsH ._33iqiBv7Q9zNOS{display:block;font-size:18px;line-height:24px;overflow:hidden;text-overflow:ellipsis}._3x0n2X81GLtNsH label{color:#5e6c84;display:block;font-size:12px;line-height:14px;margin-bottom:0;margin-top:7px}._3x0n2X81GLtNsH select{border:none;cursor:pointer;height:50px;left:0;margin:0;opacity:0;position:absolute;top:0;width:100%;z-index:2}",""]),t.locals={blockButton:"_3x0n2X81GLtNsH",value:"_33iqiBv7Q9zNOS"}},4882:function(e,t,n){var r=n(4883);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,a);r.locals&&(e.exports=r.locals)},4883:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,"._1OcxX0OBVsrcn0{cursor:pointer}._1OcxX0OBVsrcn0[disabled]{color:#6b778c;cursor:not-allowed}._3EgGl1uanPg9yw{display:flex;align-items:center}._9eIvwQ7fQqnjED{flex:0 0 auto;margin-right:8px}.iJqUmAxuUQPxqp{box-sizing:border-box;display:block;flex:1 1 auto;padding-right:32px;width:100%;word-wrap:break-word}",""]),t.locals={oneTimeMessageDismissedButton:"_1OcxX0OBVsrcn0",oneTimeMessageDismissedButtonInner:"_3EgGl1uanPg9yw",iconWrapper:"_9eIvwQ7fQqnjED",message:"iJqUmAxuUQPxqp"}},4884:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,"._1PnjtV9DEmoOm-,._3iIVpqPvrEo3Kb{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none}._1PnjtV9DEmoOm-{font-family:trellicons}._1sIYFcT288MdOt{border-radius:3px;border:0;cursor:pointer;text-decoration:none;background-image:none;box-shadow:none;color:#5e6c84;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;padding:0;text-align:left;width:100%}._1sIYFcT288MdOt:active,._1sIYFcT288MdOt:hover,.iZc3YW0jiQRe5b{background:transparent;box-shadow:none}.iZc3YW0jiQRe5b{border-color:transparent;padding:0;text-decoration:none;text-shadow:none}.iZc3YW0jiQRe5b:hover{background:transparent;border-color:transparent;box-shadow:none;text-decoration:underline}._1Ys4GFS-8Tkx5Z{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;background-color:#5aac44;box-shadow:none;border:none;color:#fff}._1Ys4GFS-8Tkx5Z:hover{background-color:#61bd4f;box-shadow:none;border:none;color:#fff}._1Ys4GFS-8Tkx5Z:active{background-color:#49852e;box-shadow:none;border:none;color:#fff}._1Ys4GFS-8Tkx5Z:disabled{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;color:#a5adba;cursor:not-allowed}._3njh0sKACv8YP6{border-radius:3px;border:0;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;text-decoration:none;background-color:#cf513d;box-shadow:none;border:none;color:#fff}._3njh0sKACv8YP6:hover{background-color:#eb5a46;box-shadow:none;border:none;color:#fff}._3njh0sKACv8YP6:active{background-color:#933b27;box-shadow:none;border:none;color:#fff}.dptwYRGrDWkrON{padding-left:30px;padding-right:30px}._3zayEsqsNaBX6-{background:#e2e4e6;box-shadow:0 1px 0 0 #c4c9cc;border-radius:3px;box-sizing:border-box;display:block;height:32px;margin-top:8px;max-width:300px;overflow:hidden;padding:6px 8px 6px 11px;position:relative;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}._3zayEsqsNaBX6-,.wAllpYAKurvA_P{cursor:pointer;font-weight:700;text-decoration:none}.wAllpYAKurvA_P{border-radius:3px;border:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;background-color:#cf513d;box-shadow:none;border:none;color:#fff;margin:8px 0;width:100%}.wAllpYAKurvA_P:hover{background-color:#eb5a46;box-shadow:none;border:none;color:#fff}.wAllpYAKurvA_P:active{background-color:#933b27;box-shadow:none;border:none;color:#fff}.ScBF_l6QM4ykME{padding:0 12px}.ScBF_l6QM4ykME ._2rRF6vFiTfcaj_{margin:0 -12px}.ScBF_l6QM4ykME hr{margin:8px 0}._20_kasi0HeSXGc{padding-left:20px;word-break:break-all}._1BaB-qL3iuHhk9{padding-left:0}",""]),t.locals={button:"_3iIVpqPvrEo3Kb",iconButton:"_1PnjtV9DEmoOm-",textButton:"_1sIYFcT288MdOt",buttonLink:"iZc3YW0jiQRe5b",buttonPrimary:"_1Ys4GFS-8Tkx5Z",buttonNegate:"_3njh0sKACv8YP6",wide:"dptwYRGrDWkrON",blockButton:"_3zayEsqsNaBX6-",removeButton:"wAllpYAKurvA_P",content:"ScBF_l6QM4ykME",popoverMenu:"_2rRF6vFiTfcaj_",featureFlagMenuButton:"_20_kasi0HeSXGc",featureFlagSelected:"_1BaB-qL3iuHhk9"}},4885:function(e,t,n){var r=n(4886);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,a);r.locals&&(e.exports=r.locals)},4886:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,"._1qpRVdIBXU9wVM{display:block;color:#5e6c84;margin-bottom:4px}._32eZ6unCylWxXR{position:relative;background:#f4f5f7;border-radius:3px;box-shadow:0 0 0 1px rgba(9,30,66,.13);padding-right:36px}._2gUCoa1xQPsLXx{white-space:nowrap;flex:1;margin:0;background:transparent;border:0;box-shadow:none}._3QHW-h3gupEwe5{position:absolute;right:0;top:0;margin:0;padding:1px;transition:.3s ease-in-out;background:#f4f5f7;border:1px solid transparent}._3QHW-h3gupEwe5:focus,._3QHW-h3gupEwe5:hover{background-color:#c1c7d0}._37nrJQ8Iu4Ovyq,._37nrJQ8Iu4Ovyq:focus,._37nrJQ8Iu4Ovyq:hover{background:#519839}._3he9MT_MyqmhNl,._3he9MT_MyqmhNl:focus,._3he9MT_MyqmhNl:hover{background:#b04632}",""]),t.locals={headURLTitle:"_1qpRVdIBXU9wVM",headURLContainer:"_32eZ6unCylWxXR",headURL:"_2gUCoa1xQPsLXx",copy:"_3QHW-h3gupEwe5",copySuccess:"_37nrJQ8Iu4Ovyq",copyError:"_3he9MT_MyqmhNl"}},4953:function(e,t,n){"use strict";n.r(t);var r=n(38),a=n(17),o=n(9),i=n(15),c=n(67),l=n(79),s=n(3820),u=n(0),p=n.n(u),d=n(4878),f=n.n(d);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=Object(o.forTemplate)("header_experiment_menu"),v=function(e){var t=e.activeVariation,n=e.allocations,r=e.audienceSettings,o=e.experimentName,i=e.meta,l=e.onVariationOverride,s=e.onVariationRemove,u=e.variations;return p.a.createElement("div",{className:f.a.experimentDetails},p.a.createElement("h3",null,b("experiment-name")),p.a.createElement("p",null,o),i&&p.a.createElement(p.a.Fragment,null,p.a.createElement("h3",null,b("description")),i.image&&p.a.createElement("p",null,p.a.createElement("a",{rel:"noopener noreferrer",href:i.image,target:"_blank"},p.a.createElement("img",{className:f.a.image,src:i.image,alt:"",role:"presentation"}))),i.description&&p.a.createElement("p",null,i.description),i.link&&p.a.createElement("p",null,p.a.createElement("a",{rel:"noopener noreferrer",href:i.link,target:"_blank"},i.link))),p.a.createElement("h3",null,b("current-active-variation")),p.a.createElement("p",null,t),p.a.createElement("h3",null,b("experiment-allocation")),p.a.createElement("ul",{className:f.a.detailsList},n.map(function(e){var t=e.audience,n=e.allocation,r=e.used;return p.a.createElement("li",{key:"".concat(t,"-").concat(n)},"".concat(t,": ").concat(100*n,"% "),r&&p.a.createElement(a.Icon,{small:!0,name:a.IconName.Check}))})),r&&[p.a.createElement("h3",{key:"aud-settings"},b("audience-settings")),p.a.createElement("ul",{className:f.a.detailsList,key:"aud-settings-list"},Object.entries(r).map(function(e){var t=m(e,2),n=t[0],r=t[1];return p.a.createElement("li",{key:n},"".concat(n,": ").concat(r))}))],p.a.createElement("h3",null,b("variation-allocation")),p.a.createElement("ul",{className:f.a.detailsList},u.map(function(e){var t=e.name,n=e.percentage;return p.a.createElement("li",{key:t},"".concat(t,": (").concat(n,"%)"))})),p.a.createElement("hr",null),p.a.createElement("h3",null,b("override-variation")),p.a.createElement("p",null,b("override-variation-note")),p.a.createElement("ul",{className:f.a.detailsList},u.map(function(e){var t=e.active,n=e.name;return p.a.createElement("li",{key:n},p.a.createElement(c.Button,{isDisabled:t,appearance:"primary",shouldFitContainer:!0,onClick:function(){return l(n)}},n,t&&p.a.createElement(a.Icon,{small:!0,name:a.IconName.Check})))})),p.a.createElement("hr",null),p.a.createElement("h3",null,b("remove-experiment-cookie")),p.a.createElement("p",null,b("remove-experiment-cookie-note")),p.a.createElement(c.Button,{appearance:"danger",shouldFitContainer:!0,onClick:s},b("remove-experiment-cookie")))},h=n(121),y=n.n(h),g=n(47),x=n(614),E=n(49),w=function(e){var t=(Object(E.a)(e)||{}).channels,n=t?t.allowed:[],r=t?t.active:"";return["stable","beta","alpha"].filter(function(e){return n.includes(e)}).map(function(e){return{name:e,displayName:e.charAt(0).toUpperCase()+e.slice(1),active:e===r}})},O=function(e){var t=Object(E.a)(e);return!!(t&&t.channels&&t.channels.dev)},j=function(e){var t=window.abTests;return Object.keys(t).map(function(e){var t=x.a.get(e);return{name:e,inExperiment:t.inExperiment,selectedVariation:t.get("variation")}}).sort(function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})},_=function(e){var t=x.a.get(e).get("variation"),n=window.abTests[e],r=[{name:"control",weight:n.defaultWeight}];n.variations.forEach(function(e){return r.push({name:e.name,weight:e.weight})});var a=r.map(function(e){return e.weight}).reduce(function(e,t){return e+t},0);r.forEach(function(e){return e.active=e.name===t,e.percentage=Math.round(1e4*e.weight/a)/100,e});var o=!1,i=n.audiences.map(function(e){var t=x.a.audienceDefinitions[e]&&x.a.audienceDefinitions[e](n.audienceSettings),r=!o&&t;return o=o||t,{audience:e,allocation:n.experimentAllocation instanceof Object?n.experimentAllocation[e]||0:n.experimentAllocation,used:r}});return{activeVariation:t,allocations:i,variations:r,meta:n.meta,audienceSettings:n.audienceSettings}};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=N(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==k(a)&&"function"!=typeof a?C(r):a,M(C(n),"cookieName",function(){return"force_".concat(n.props.experimentName)}),M(C(n),"onVariationOverride",function(e){y.a.set(n.cookieName(),e,{path:"/",expires:30}),document.location.reload()}),M(C(n),"onVariationRemove",function(){y.a.set(n.cookieName(),"",{path:"/",expires:-1}),document.location.reload()}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,p.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.experimentDetails,n=e.experimentName;return p.a.createElement(v,S({experimentName:n,onVariationOverride:this.onVariationOverride,onVariationRemove:this.onVariationRemove},t))}}])&&R(n.prototype,r),a&&R(n,a),t}(),P=Object(g.c)(function(e,t){return{experimentDetails:_(t.experimentName)}})(B),T=n(799),A=n(55),D=n(4880),F=n.n(D),H=n(23);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=Object(o.forTemplate)("header_version_picker"),G=function(e){return"0.0"===e?"latest":e},q=function(e,t){return Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach(function(t){V(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e[t])).concat([["0.0",!0]])},Y=function(e){var t=e.loading,n=e.deployments,r=e.activeHead,a=e.updateHead,o=e.updateVersion,i=Object(H.useFeatureFlag)("fep.nachos_select",!1);return p.a.createElement("div",null,t&&p.a.createElement(A.a,{centered:!0}),i?p.a.createElement(c.Select,{label:Z("head"),onChange:function(e){var t=e.value;return a(t)},value:r.name,isSearchable:!0,options:Q(Object.entries(n).filter(function(e){var t=L(e,2),n=(t[0],t[1]);return Object.values(n).some(function(e){return e})}).map(function(e){var t=L(e,2),n=t[0];t[1];return n}).sort(function(e,t){return e.localeCompare(t)}))}):p.a.createElement("div",{className:F.a.blockButton,style:{marginBottom:r.name?10:0}},p.a.createElement("label",null,Z("head")),p.a.createElement("span",{className:F.a.value},r.name),p.a.createElement("select",{onChange:function(e){return a(e.target.value)},value:r.name||""},[""].concat(Q(Object.entries(n).filter(function(e){var t=L(e,2),n=(t[0],t[1]);return Object.values(n).some(function(e){return e})}).map(function(e){var t=L(e,2),n=t[0];t[1];return n}).sort(function(e,t){return e.localeCompare(t)}))).map(function(e){return p.a.createElement("option",{"aria-selected":e===r.name,key:e,value:e},e)}))),r.name&&(i?p.a.createElement(c.Select,{label:Z("version"),onChange:function(e){var t=e.value;return o(t)},value:r.version,isSearchable:!0,options:q(n,r.name).map(function(e){var t=L(e,2),n=t[0],a=t[1];return n===r.version?{value:n,label:"".concat(G(n)," ").concat(Z("current",{version:n}))}:{value:n,label:"".concat(G(n)," ").concat(a?"":Z("disabled",{version:n})),isDisabled:!a}})}):p.a.createElement("div",{className:F.a.blockButton},p.a.createElement("label",null,Z("version")),p.a.createElement("span",{className:F.a.value},r.version&&G(r.version)),p.a.createElement("select",{onChange:function(e){return o(e.target.value)},value:r.version||""},p.a.createElement("option",{"aria-selected":!r.version,key:"",value:""}),q(n,r.name).map(function(e){var t=L(e,2),n=t[0],a=t[1];return n===r.version?p.a.createElement("option",{"aria-selected":n===r.version,key:n,value:n},G(n)," ",Z("current",{version:n})):p.a.createElement("option",{"aria-selected":n===r.version,key:n,value:n},G(n)," ",!a&&Z("disabled",{version:n}))})))))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ee(t).call(this,e),n=!a||"object"!==W(a)&&"function"!=typeof a?te(r):a,re(te(n),"updateHead",function(e){n.setState({activeHead:J({},n.state.activeHead,{name:e})})}),re(te(n),"updateVersion",function(e){n.setState({activeHead:J({},n.state.activeHead,{version:e})});var t=z(e.split("."),2),r=t[0],a=t[1],o={name:n.state.activeHead&&n.state.activeHead.name,version:r,patch:a};parseInt(r,10)<0||(y.a.set("head",JSON.stringify(o),{path:"/"}),document.location.reload())});var o={version:null,patch:null,name:null},i=y.a.get("head");if(i)try{(o=JSON.parse(i)).version=[o.version||0,o.patch||0].join(".")}catch(e){console.error(e)}return n.state={activeHead:o},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,p.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.dispatch(Object(T.c)())}},{key:"render",value:function(){return p.a.createElement(Y,X({updateHead:this.updateHead,updateVersion:this.updateVersion,activeHead:this.state.activeHead},this.props))}}])&&$(n.prototype,r),a&&$(n,a),t}();var oe=Object(g.c)(function(e){return{loading:e.models.deployments.loading,deployments:e.models.deployments.heads}},function(e){return{dispatch:e}})(ae),ie=n(4882),ce=n.n(ie),le=n(33);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ue=function(e){var t=e.memberId,n=Object(le.S)({variables:{memberId:t}}),r=n.data,o=n.error,i=n.loading,c=se(Object(le.u)(),2),l=c[0],u=c[1],d=u.loading,f=u.error,m=function(e){return function(){l({variables:{memberId:t,message:e}})}},b=r&&r.member&&r.member.oneTimeMessagesDismissed;return o&&console.error(o),f&&console.error(f),p.a.createElement("div",null,p.a.createElement("p",null,"Click a oneTimeMessageDismissed to delete it."),p.a.createElement("p",null,"(This API endpoint is only available in development and for members in the trelloinc team.)"),i&&p.a.createElement(A.a,{centered:!0}),r&&p.a.createElement(s.a,null,b&&b.map(function(e){return e&&p.a.createElement(s.b,{key:e,className:ce.a.oneTimeMessageDismissedButton,disabled:d,onClick:m(e)},p.a.createElement("span",{className:ce.a.oneTimeMessageDismissedButtonInner},p.a.createElement("span",{className:ce.a.iconWrapper},p.a.createElement(a.Icon,{small:!0,name:a.IconName.Close,color:a.IconColor.Gray})),p.a.createElement("span",{className:ce.a.message},e)))})))},pe=n(116),de=n(178),fe=n(4086),me=n.n(fe),be=n(5),ve=n.n(be),he=n(4885),ye=n.n(he);function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xe="".concat(window.location.origin,"/support/try?name=").concat(i.client.head,"&version=").concat(i.client.version,"&time=999"),Ee=function(){var e,t,n=ge(Object(u.useState)(null),2),r=n[0],o=n[1],i=function(e){return function(){o(e),setTimeout(function(){return o(null)},2e3)}};return p.a.createElement(p.a.Fragment,null,p.a.createElement("strong",{className:ye.a.headURLTitle},"Head URL"),p.a.createElement("div",{className:ye.a.headURLContainer},p.a.createElement("pre",{className:ye.a.headURL},xe),p.a.createElement("button",{onClick:(e=i("success"),t=i("error"),function(){var n=document.createElement("textarea");n.value=xe,n.style.opacity="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),e()}catch(e){console.error("Unable to copy HEAD URL",e),t()}document.body.removeChild(n)}),disabled:null!==r,className:ve()(ye.a.copy,"success"===r&&ye.a.copySuccess,"error"===r&&ye.a.copyError)},p.a.createElement(a.Icon,{large:!0,className:ye.a.copyIcon,color:"success"===r?a.IconColor.Light:"error"===r?a.IconColor.Light:a.IconColor.Dark,name:"success"===r?a.IconName.CheckboxChecked:"error"===r?a.IconName.Close:a.IconName.Copy}))))},we=n(78),Oe=n(31),je=n(6),_e=Symbol("ui/SELECT_CHANNEL_REQUEST"),ke=Symbol("ui/SELECT_CHANNEL_ERROR"),Se=Symbol("ui/SELECT_CHANNEL_SUCCESS"),Re=Object(je.a)(_e),Ne=Object(je.a)(ke),Ce=Object(je.a)(Se);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=Object(o.forTemplate)("header_channel_picker"),Le=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=Te(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Ie(a)&&"function"!=typeof a?Ae(r):a,Fe(Ae(n),"state",{flags:H.featureFlagClient.all()}),Fe(Ae(n),"onFlagChange",function(){n.setState({flags:H.featureFlagClient.all()})}),Fe(Ae(n),"flagToggleHandler",function(e,t){H.featureFlagClient.setOverride(e,t),n.onFlagChange()}),Fe(Ae(n),"resetOverridesHandler",function(){H.featureFlagClient.resetOverrides(),n.onFlagChange()}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,p.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){H.featureFlagClient.client.on("change",this.onFlagChange)}},{key:"componentWillUnmount",value:function(){H.featureFlagClient.client.off("change",this.onFlagChange)}},{key:"render",value:function(){var e=this,t=this.state.flags;return p.a.createElement("div",null,p.a.createElement("p",null,He("listed-below-are-feature-flags")),p.a.createElement(c.Button,{appearance:"danger",onClick:this.resetOverridesHandler,shouldFitContainer:!0},He("reset-all-feature-flags")),p.a.createElement(s.a,{className:me.a.popoverMenu},Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.remote,{},t.overrides)).filter(function(e){return"boolean"==typeof Me(e,2)[1]}).sort().map(function(n){var r=Me(n,2),o=r[0],i=r[1],c=void 0!==t.overrides[o];return p.a.createElement(s.b,{key:o,className:ve()(me.a.featureFlagMenuButton,(i||c)&&me.a.featureFlagSelected),onClick:function(){return e.flagToggleHandler(o,!i)}},i&&p.a.createElement(a.Icon,{small:!0,name:a.IconName.Check,color:c?a.IconColor.Green:a.IconColor.Gray}),!1===t.overrides[o]&&p.a.createElement(a.Icon,{small:!0,name:a.IconName.Close,color:a.IconColor.Red}),o)})))}}])&&Pe(n.prototype,r),o&&Pe(n,o),t}(),Qe=Object(o.forTemplate)("header_channel_picker"),Ue=function(){for(var e=0,t=Object.keys(window.abTests);e<t.length;e++){var n=t[e];y.a.set("force_".concat(n),"",{path:"/",expires:-1})}document.location.reload()},Ve=function(e){var t=e.onSelectExperiment,n=Object(g.e)(j);return p.a.createElement("div",null,p.a.createElement("p",null,Qe("listed-below-are-experiments")),p.a.createElement("p",null,Qe("below-the-experiment")),p.a.createElement(c.Button,{appearance:"danger",onClick:Ue,"data-test-id":r.HeaderTestIds.ChannelPickerRemoveAll,shouldFitContainer:!0},Qe("remove-all-experiments")),p.a.createElement(s.a,{className:me.a.popoverMenu,testId:r.HeaderTestIds.ChannelPickerExperimentList},n.map(function(e){return p.a.createElement(s.b,{key:e.name,onClick:Object(de.a)(function(){return t(e.name)}),rawDescription:e.inExperiment?":: ".concat(e.selectedVariation):void 0,description:e.inExperiment?void 0:Qe("not-in-experiment")},e.name)})))},Ze=Object(o.forTemplate)("header_channel_picker"),Ge=function(e){var t=e.onSelectHydraChooser,n=e.onSelectChannel,r=Object(g.e)(w),o=r.length-1,i=Object(g.e)(O);return p.a.createElement(s.a,{className:me.a.popoverMenu},r.map(function(e,t){return p.a.createElement(s.b,{appendSeparator:i&&t===o,key:e.name,onClick:function(){return n(e.name)}},e.displayName,e.active&&p.a.createElement(a.Icon,{small:!0,name:a.IconName.Check}))}),i&&p.a.createElement(s.b,{key:"devLink",onClick:function(){return t()},title:Ze("pick-a-version")}))};function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ye=Object(o.forTemplate)("header_channel_picker"),We=Object(o.forNamespace)("view title");t.default=function(e){var t,n=e.target,o=null===(t=Object(g.e)(w).find(function(e){return e.active}))||void 0===t?void 0:t.displayName,d=Object(g.e)(we.a),f=Object(g.e)(j),m=qe(Object(u.useState)({}),2)[1],b=function(){y.a.set("head","",{path:"/"}),m({})},v=Object(g.d)(),h=function(e){v(function(e){return function(t,n){return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t(Re(e)),n.prev=1,n.next=4,regeneratorRuntime.awrap(Oe.a.client.rest.put("members/me/channels/active",{query:{value:e}}));case 4:t(Ce(e)),document.location.reload(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t(Ne(n.t0));case 11:case"end":return n.stop()}},null,null,[[1,8]])}}(e))},x=y.a.get("head");return p.a.createElement(l.a,{contentClassName:me.a.content,name:pe.a,offsetTop:38,target:n,title:We("switch channels"),testId:r.HeaderTestIds.ChannelPickerPopover},function(e){var t=e.push;return p.a.createElement(p.a.Fragment,null,p.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://trello.atlassian.net/servicedesk/customer/portal/1/group/1"},p.a.createElement(a.Icon,{color:a.IconColor.Red,name:a.IconName.Warning}),p.a.createElement(a.Icon,{name:a.IconName.Microphone})," ".concat(Ye("log-an-issue")," "),p.a.createElement(a.Icon,{name:a.IconName.Microphone}),p.a.createElement(a.Icon,{color:a.IconColor.Red,name:a.IconName.Warning})),p.a.createElement("hr",null),x&&p.a.createElement("div",null,p.a.createElement("p",null,Ye("you-have-a-version-cookie-set-this-is-a-feature-intended-for-client-developers-and-testers-and-will-prevent-you-from-changing-channels")),p.a.createElement(c.Button,{appearance:"primary",onClick:Object(de.a)(b)},Ye("remove-cookie"))),!x&&p.a.createElement(Ge,{onSelectHydraChooser:function(){return t(p.a.createElement(oe,null),{title:We("select client version")})},onSelectChannel:h}),p.a.createElement("hr",null),p.a.createElement("pre",null,"Client: ".concat(i.clientVersion," (").concat(o,")")),p.a.createElement("hr",null),p.a.createElement(Ee,null),p.a.createElement("hr",null),p.a.createElement(s.a,{className:me.a.popoverMenu},p.a.createElement(s.b,{onClick:Object(de.a)(function(){return t(p.a.createElement(Le,null),{title:We("feature flags")})})},We("feature flags")),f&&p.a.createElement(s.b,{testId:r.HeaderTestIds.ChannelPickerExperimentsButton,onClick:Object(de.a)(function(){return t(p.a.createElement(Ve,{onSelectExperiment:function(e){return t(p.a.createElement(P,{experimentName:e}),{title:We("experiment config")})}}),{title:We("experiments")})})},We("experiments")),p.a.createElement(s.b,{onClick:Object(de.a)(function(){return t(p.a.createElement(ue,{memberId:d}),{title:"oneTimeMessagesDismissed"})})},"oneTimeMessagesDismissed")))})}}}]);
//# sourceMappingURL=channel-switcher-popover.84c0722731e3cbe90245.js.map