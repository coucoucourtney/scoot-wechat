(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{3789:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h,f,g,b,v,y,w,_,M,C,x,k,T,E,A=function(e,t){return function(){return e.apply(t,arguments)}},O={}.hasOwnProperty,P=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};r(10),C=r(2),n=r(1295),o=r(51),i=r(64),x=r(15).avatarDomain,a=r(11),r(63),k=r(20),l=r(43),s=r(4497),u=r(4792),m=r(251),T=r(662).maybeDisplayOrgMemberLimitsError,c=r(4799),p=r(29),d=r(4804),h=r(4499),f=r(4805),g=r(3840),v=r(24),b=r(14),y=r(0),w=r(58),_=r(307).ReactRootComponent,M=r(4815),r(41)("org_members"),E=r(1).track,r(148),e.exports=function(e){function t(){return this.changeMemberTypeFilter=A(this.changeMemberTypeFilter,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)O.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,g),t.prototype.fetchBoards=function(){return this.isFetchingBoards=!this.model.get("hasLoadedMembersBoards"),p.loadOrganizationMembersBoards(this.model.id).tap((e=this,function(){return e.isFetchingBoards=!1,e.model.set("hasLoadedMembersBoards",!0)}));var e},t.prototype.fetchCollaborators=function(){return this.model.get("hasLoadedMembersCollaborators")||this.isFetchingCollaborators?v.resolve():(this.isFetchingCollaborators=!0,p.loadOrganizationMembersCollaborators(this.model.id).tap((e=this,function(){return e.isFetchingCollaborators=!1,e.model.set("hasLoadedMembersCollaborators",!0)})));var e},t.prototype.initialize=function(e){var r,n,o,i,s,l;for(o=e.initialMemberTypeFilter,this.routeToMemberType=e.routeToMemberType,t.__super__.initialize.apply(this,arguments),this.memberTypeFilter=o,this.getGoogleAppsData(),l=this.frameDebounce(this.renderReactSection),this.listenTo(this.model,{"change:idBoards":l}),this.listenTo(this.model,{"change:memberships":l}),this.listenTo(this.model,{"change:memberships":this.getCollaborators}),this.listenTo(this.model,{"change:collaborators":l}),this.listenTo(this.model,{"change:bulkAddMemberErrors":l}),this.listenTo(a.me(),"change:messagesDismissed",l),n=0,i=(s=this.model.boardList.models).length;n<i;n++)r=s[n],this.listenTo(r.memberList,"add remove reset",l);this.fetchBoards(),this.fetchCollaborators()},t.prototype.isFullWidth=function(){return!0},t.prototype.renderMainContent=function(){return null==this.reactRoot&&(this.reactRoot=document.createElement("div")),this.$(".js-content").append(this.reactRoot),this.renderReactSection(),this.setActiveView(".js-org-members"),this},t.prototype.renderReactSection=function(){return w.render(this.getReactRoot(),this.reactRoot),this},t.prototype.getReactRoot=function(){return y.createElement(_,{},this.getOrgMembersComponent())},t.prototype.changeMemberTypeFilter=function(e){return this.memberTypeFilter=e,this.routeToMemberType(e),this.renderReactSection()},t.prototype.getOrgMembersComponent=function(){var e,t,r,n,o,i,a;return a=(n=this.getMembers()).map(function(e){return e.id}),e=this.calculateBoardCountPerMember(),t=this.getCollaboratorProps(a,e),r=this.getEnterpriseProps(),o=this.getOrgProps(n,e),i={isEnterpriseAdmin:r.isEnterpriseAdmin,orgName:o.orgName,orgIsEmpty:o.orgIsEmpty,orgMemberModels:o.orgMemberModels,orgId:o.orgId,orgIsPO:o.orgIsPO,orgIsBC:o.orgIsBC,collaboratorModels:t.collaboratorModels,sidebar:this.orgToOrgSidebarProps(),memberTypeFilter:this.memberTypeFilter,changeMemberTypeFilter:this.changeMemberTypeFilter,isFetchingBoards:this.isFetchingBoards,isFetchingCollaborators:this.isFetchingCollaborators},y.createElement(f,i)},t.prototype.orgToOrgSidebarProps=function(){var e,t,r;return e=(t=a.me()).isAdDismissed("security-features"),{canManageMembers:this.model.editable(),canLinkGoogleApps:this.model.isFeatureEnabled("googleApps")&&(!this.model.get("prefs").associatedDomain||this.googleAppsFetchFailed)&&this.model.editable(),canShowAll:this.model.isFeatureEnabled("googleApps")&&C.any(this.mappingsData,(r=this,function(e){var t;return(null!=(t=r.modelCache.findOne("Member","gMail",e.gMail))?t.get("hidden"):void 0)||e.hidden})),onLinkGoogleApps:this.startLinkingGoogleApps.bind(this),openManageMembers:this.openManageMembers.bind(this),openBulkAdd:this.openBulkAdd.bind(this),billingUrl:l.getOrganizationBillingUrl(this.model),hasBC:this.model.isPremium(),ownsOrg:this.model.owned(),isAdDismissed:e,dismissAd:t.dismissAd.bind(t,"security-features"),inviteTeamMembers:this.inviteTeamMembers.bind(this)||null,model:this.model,bulkAddMemberErrors:this.model.getBulkAddMemberErrors(),isFetchingCollaborators:this.isFetchingCollaborators}},t.prototype.getGoogleAppsData=function(){var e;if(this.model.isLinkedToGoogleApps()&&this.model.editable())return this.model.getGoogleAppsMappings().then((e=this,function(t){return e.mappingsData=t})).catch(function(e){return function(t){return e.googleAppsFetchFailed=!0}}(this)).finally(function(e){return function(){return e.renderMainContent()}}(this)).done()},t.prototype.startLinkingGoogleApps=function(e){return E("Organization View","Members Page","Start Linking Google Apps Domain"),b.toggle({elem:e,view:h,options:{model:this.model,modelCache:this.modelCache}})},t.prototype.openManageMembers=function(e){E("Organization View","Members Page","Open Manage Members"),b.toggle({elem:e,getViewTitle:function(){return k(["view title","members"])},reactElement:y.createElement(u,{key:"members",model:this.model,modelCache:this.modelCache})})},t.prototype.inviteTeamMembers=function(e){E("Organization View","Members Page","Invite Team Members"),b.toggle({elem:e,getViewTitle:function(){return k(["view title","add members"])},reactElement:y.createElement(u,{key:"members",model:this.model,modelCache:this.modelCache})})},t.prototype.openBulkAdd=function(e){E("Organization View","Members Page","Open Bulk Add"),T(e,this.model,null)||b.toggle({elem:e,getViewTitle:function(){return k(["view title","add members"])},reactElement:y.createElement(s,{key:"bulk add members",model:this.model})})},t.prototype.memberToModelForMemberItemElement=function(e,t){var r;return{isVirtual:"virtual"===(r=this.model.getMemberType(e,{ignoreEntAdminStatus:!0})),isDeactivated:"deactivated"===r,fullName:e.get("fullName"),username:e.get("username"),showGoogleApps:this.model.isLinkedToGoogleApps()&&this.model.editable()&&null!=this.mappingsData,gMail:e.get("gMail"),boardCount:t,isOrgMember:"public"!==r,showActivity:this.model.owned(),allowTypeChange:this.model.owned()&&"deactivated"!==r&&"unconfirmed"!==r&&"virtual"!==r,orgMemberType:k(["member types",r]),allowReactivate:this.model.owned()&&"deactivated"===r,isMe:a.isMe(e),canRemove:e.getMembershipData(this.model).canRemove,orgIsBC:this.model.isPremium(),ownsOrg:this.model.owned(),hidden:e.get("hidden"),onViewActivity:this.viewMemberActivity.bind(this,e),onRoleChange:this.changeRole.bind(this,e),onRemoveOrDeactivate:this.removeOrDeactivate.bind(this,e),avatarHash:e.get("avatarHash"),avatarDomain:x,initials:e.get("initials"),isOrganizationAdmin:"admin"===r,onReactivateClick:this.reactivateMember.bind(this,e),onUnhideMember:this.unhideMember.bind(this,e),onHideMember:this.hideMember.bind(this,e),onInviteMember:this.inviteToOrg.bind(this,e),onAddToTeam:this.addToTeam.bind(this,e)}},t.prototype.getCollaborators=function(){return this.model.fetchCollaborators().catch(function(e){return null}).finally((e=this,function(){return e.renderReactSection()}));var e},t.prototype.isCurrentEnterpriseAdmin=function(){return C.some(a.me().get("idEnterprisesAdmin"),(e=this,function(t){var r;return t===(null!=(r=e.model.getEnterprise())?r.get("id"):void 0)}));var e},t.prototype.getEnterpriseProps=function(){return{isEnterpriseAdmin:this.isCurrentEnterpriseAdmin()}},t.prototype.calculateBoardCountPerMember=function(){var e;return e={},this.model.boardList.models.forEach(function(t){if(t.isOpen())return t.memberList.models.forEach(function(t){var r;return null==e[r=t.id]&&(e[r]=0),e[t.id]+=1})}),e},t.prototype.getOrgProps=function(e,t){var r,n;return r=e.map((n=this,function(e){var r;return n.memberToModelForMemberItemElement(e,null!=(r=t[e.id])?r:0)})),{orgId:this.model.id,orgName:this.model.get("displayName"),orgIsEmpty:1===r.length&&C.some(r,function(e){return e.isMe&&e.isOrganizationAdmin}),orgMemberModels:r,orgIsPO:this.model.paysWithPurchaseOrder(),orgIsBC:this.model.isBusinessClass()}},t.prototype.getCollaboratorProps=function(e,t){return{collaboratorModels:this.model.collaboratorList.models.reduce((r=this,function(n,o){var i,a,s;return a=o.id,P.call(e,a)>=0?n:(i=null!=(s=t[o.id])?s:0)<1?n:(n.push(r.memberToModelForMemberItemElement(o,i)),n)}),[])};var r},t.prototype.getMembers=function(){var e,t,r,n,o,i,a,s,l,u,c,p,d,h,f;if(p=C.clone(this.model.memberList.models),e=null!=(d=this.model.collaboratorList.models)?d.map(function(e){return e.id}):void 0,null!=this.mappingsData)for(n=0,a=(h=this.mappingsData).length;n<a;n++)null!=(f=h[n]).idMember?null==(c=this.modelCache.get("Member",f.idMember))?c=new m({id:f.idMember,fullName:f.fullName,gMail:f.gMail,initials:f.initials,hidden:f.hidden},{modelCache:this.modelCache}):c.set("gMail",f.gMail):null==(c=this.modelCache.findOne("Member","gMail",f.gMail))&&(c=new m({fullName:f.fullName,gMail:f.gMail,initials:f.initials,hidden:f.hidden},{modelCache:this.modelCache}),f.idMember=c.cid),P.call(p,c)<0&&e.indexOf(f.idMember)<0&&p.push(c);for(t=[],o=0,s=p.length;o<s;o++)u=p[o],"deactivated"===this.model.getMemberType(u)&&t.push(u);for(r=[],i=0,l=p.length;i<l;i++)u=p[i],"virtual"===this.model.getMemberType(u)&&r.push(u);return C.difference(p,r,t).concat(t).concat(r)},t.prototype.inviteToOrg=function(e){return E("Organization View","Members Page","Add Google Apps Member"),v.try((t=this,function(){return e.id?t.model.changeMemberRole(e,{type:"normal"}):t.model.addMemberRole({fullName:e.get("fullName"),email:e.get("gMail"),type:"normal"}).then(function(){return o.show("invitation sent","info","alert",3e3)})})).catch(i,function(e){o.showLiteralText(e.localizedMessage(),"error","alert",3e3),E("Invitations","Error: "+e.message)}).done();var t},t.prototype.addToTeam=function(e,t){var r,i;return E("Organization View","Members Page","Add Guest to Team"),(r=(i=this.model).isBusinessClass())?b.toggle({elem:t,view:new n({isBC:r,model:e,org:i,showAlert:!0,isOrgView:!0})}):T(t,i,e)?void 0:i.addMembers(e).then(function(e){return null!=e[e._categories.ADDED]&&o.show("added to team","confirm","info",3e3),b.hide()})},t.prototype.hideMember=function(e){if(e.get("gMail"))return e.set("hidden",!0),this.model.toggleMemberHidden(e,{type:"post"}),this.renderReactSection()},t.prototype.unhideMember=function(e){if(e.get("gMail"))return e.set("hidden",!1),this.model.toggleMemberHidden(e,{type:"delete"}),this.renderReactSection()},t.prototype.reactivateMember=function(e,t){return E("Organization View","Members Page","Reactivate"),this.model.reactivateMember(e).catch(i,function(e){o.showLiteralText(e.localizedMessage(),"error","alert",3e3),E("Invitations","Error: "+e.message)}).done()},t.prototype.removeOrDeactivate=function(e,t){E("Organization View","Members Page","Remove or Deactivate Member Button"),b.toggle({elem:t,view:M,options:{model:e,org:this.model,modelCache:this.modelCache,onRemoveSuccess:function(){if(!a.isMe(e))return o.show("removed from team","warning","info",3e3)}}})},t.prototype.viewMemberActivity=function(e,t){E("Organization View","Members Page","View Member Activity"),b.toggle({elem:t,view:c,options:{model:e,org:this.model,modelCache:this.modelCache}})},t.prototype.changeRole=function(e,t){E("Organization View","Members Page","Change Role Button"),b.toggle({elem:t,view:d,options:{model:e,parent:this.model,modelCache:this.modelCache}})},t}()},3811:function(e,t,r){var n;n=r(1).track,e.exports=function(){function e(){}return e.prototype.switchSection=function(e){return this.$(".js-content").addClass("hide").detach(),this.$(".js-loading-page").removeClass("hide"),this.$(".tabbed-pane-nav-item-button").removeClass("active"),this.$(e.target).addClass("active"),n(this.model.typeName+" View","Tab Navigation","Open "+this.$(e.target)[0].getAttribute("data-tab")+" Page")},e}()},3840:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h,f,g,b,v,y,w,_,M,C,x,k,T,E,A,O=function(e,t){return function(){return e.apply(t,arguments)}},P={}.hasOwnProperty;n=r(10),i=r(11),a=r(3841),s=r(43),m=r(445),o=r(444),p=r(14),f=r(3811),b=r(7),v=r(13),M=r(85).mixin,C=r(1270),T=r(30),E=r(1).track,_=r(306),w=r(20),r(143).logError,A=r(54),x=r(3842),r(27),y=r(15).dontUpsell,c=r(3843),l=r(1272),u=r(268).ErrorViews,d=r(0),h=r(58),k=r(61).renderComponent,g=r(834).TeamfulCollaborationPrompt,e.exports=function(e){function t(){return this.unmountTeamfulCollaborationPrompt=O(this.unmountTeamfulCollaborationPrompt,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)P.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,v),M(f,t),t.prototype.initialize=function(){var e;this.makeDebouncedMethods("render"),this.listenTo(this.model,"change:logoHash change:products change:paidAccount change:prefs change:name",this.render),this.listenTo(this.model,"change:name change:displayName change:website change:desc",this.renderDetails),this.listenTo(this.model,"change:memberships",this.membershipChange),this.listenTo(this.model.memberList,"add remove reset",this.renderDebounced),this.listenTo(this.model,"change:name",(e=this,function(){var t;return t=location.pathname.replace(/[^\/]+/,e.model.get("name")),history.replaceState(null,null,t)})),this.listenTo(this.model,"change:idEnterprise",function(){return window.location.reload()}),this.listenTo(this.model,{destroy:function(){return s.displayErrorPage({errorType:u.NOT_FOUND})}}),this.memberTypeMe=this.model.getMemberType(i.me()),this.teamfulCollaborationPromptDiv=null,this.teamfulCollaborationPromptComponent=null},t.prototype.events={"click .js-change-org-logo":"changeLogoInProfile","click .js-edit-profile":"editProfile","click .js-submit-profile":"submitProfile","submit .js-profile-form":"submitProfile","click .js-cancel-edit-profile":"cancelEditProfile","click .tabbed-pane-nav-item-button:not(.active)":"switchSection"},t.prototype.isFullWidth=function(){return!1},t.prototype.render=function(){var e,t,r,n;return t=i.me(),e=this.model.toJSON({prefs:!0,url:!0,premium:!0}),this.model.editable()&&(n=null!=(r=e.paidAccount)?r.standing:void 0,e.hasAccount=o.hasAccount(n),e.accountActive=o.isActive(e.paidAccount),e.accountProblem=o.isProblem(n),e.accountInactive=o.isInactive(n)),e.isInOrg=this.model.isMember(t),e.hasBusinessClass=this.model.isPremium(),e.isEnterprise=this.model.isEnterprise(),e.paysWithPurchaseOrder=this.model.paysWithPurchaseOrder(),e.isOrgAdmin=this.model.owned(),e.isBusinessClassAdmin=this.model.isPremium()&&this.model.owned(),e.pLevelAltText=w(["org perms",this.model.getPermLevel(),"text"]),e.pLevelDisplayText=w(["org perms",this.model.getPermLevel(),"name"]),e.websiteHref=b.sanitizeWebAddress(e.website),e.descriptionHtml=m.markdownAsHtml(e.desc,{textData:e.descData}),e.isFullWidth=this.isFullWidth(),e.editable=this.model.editable(),e.hasUnlimitedPowerUps=this.model.isFeatureEnabled("plugins"),e.upsellEnabled=!y,e.isEnterpriseAdmin=e.isEnterprise&&t.isEnterpriseAdminOf({id:this.model.get("idEnterprise")}),this.$el.empty(),this.$el.html(x(e)),this.renderDetails(),this.renderMainContent(),this.renderBanner(),this.renderTeamfulCollaborationPrompt(),this},t.prototype.renderBanner=function(){var e,t,r;return e=n(".js-boards-page-banners").empty(),t=this.subview(l,this.model,{}).render(),e.prepend(t.el),t.isShown()||(r=this.subview(c,this.model,{}).render().el,e.prepend(r)),this},t.prototype.renderDetails=function(){var e;return(e=this.model.toJSON({prefs:!0,url:!0,premium:!0})).enterpriseUI=this.model.isFeatureEnabled("enterpriseUI"),e.isBusinessClass=this.model.isPremium(),e.isOrgAdmin=this.model.owned(),e.pLevelAltText=w(["org perms",this.model.getPermLevel(),"text"]),e.pLevelDisplayText=w(["org perms",this.model.getPermLevel(),"name"]),e.websiteHref=b.sanitizeWebAddress(e.website),e.descriptionHtml=m.markdownAsHtml(e.desc,{textData:e.descData}),e.canEdit=this.model.owned(),this.$(".js-current-details").html(C(e)),this.model.editable()&&this.$(".js-profile-form").empty().append(T.fill("org_detail_profile_edit",e,{editable:this.model.editable()})),this},t.prototype.delegateEvents=function(e){return t.__super__.delegateEvents.call(this,A(t.prototype.events,e||this.events))},t.prototype.membershipChange=function(){var e;if((e=this.model.getMemberType(i.me()))!==this.memberTypeMe)return this.memberTypeMe=e,this.render()},t.prototype.setActiveView=function(e){this.$(".tabbed-pane-nav-item-button").removeClass("active"),this.$(e).addClass("active")},t.prototype.changeLogoInProfile=function(e){b.stop(e),E("Organization View","Open Change Logo Menu from Profile Image"),p.toggle({elem:this.$(".js-change-org-logo"),view:new a({model:this.model,modelCache:this.modelCache})})},t.prototype.editProfile=function(e){b.stop(e),this.$(".js-current-details").addClass("hide"),this.$(".js-profile-form").removeClass("hide"),E("Organization View","Click Edit Profile")},t.prototype.cancelEditProfile=function(e){b.stop(e),this.$(".js-current-details").removeClass("hide"),this.$(".js-profile-form").addClass("hide"),this.$(".js-profile-form")[0].reset(),E("Organization View","Cancel Edit Profile")},t.prototype.submitProfile=function(e){var t,r,n,o,i,a,s,l;if(b.stop(e),!this.disabled){for(t={},n=0,i=(s=["displayName","name","website","desc"]).length;n<i;n++)t[r=s[n]]=this.$(".js-profile-form [name="+r+"]").val();for(t.name=t.name.toLowerCase().replace(/[^a-z0-9_]/g,""),o=0,a=(l=["displayName","website"]).length;o<a;o++)t[r=l[o]]=t[r].trim();var u;this.disableSubmit(),this.model.update(t,{waitForServer:!0},(u=this,function(e){var t;u.disabled=!1,u.$(".js-submit-profile").removeAttr("disabled"),e?(t=e.message.trim().toLowerCase(),u.$(".js-profile-form-error").removeClass("hide").text(_(t))):(u.$(".js-profile-form-error").addClass("hide"),u.cancelEditProfile(),E("Organization View","Changed Name and Details"))}))}},t.prototype.disableSubmit=function(){this.disabled=!0,this.$(".js-submit-profile").attr("disabled","disabled")},t.prototype.remove=function(){return this.unmountTeamfulCollaborationPrompt(),t.__super__.remove.apply(this,arguments)},t.prototype.unmountTeamfulCollaborationPrompt=function(){if(null!=this.teamfulCollaborationPromptDiv)return h.unmountComponentAtNode(this.teamfulCollaborationPromptDiv)},t.prototype.renderTeamfulCollaborationPrompt=function(){var e;if(this.options.shouldShowTeamfulCollaborationPrompt)return null==this.teamfulCollaborationPromptDiv&&(null!=(e=n("#teamful-collaboration-prompt-target")[0])?this.teamfulCollaborationPromptDiv=e:(n("#surface").append("<div id='teamful-collaboration-prompt-target'></div>"),this.teamfulCollaborationPromptDiv=n("#teamful-collaboration-prompt-target")[0]),this.teamfulCollaborationPromptComponent=d.createElement(g,{orgId:this.model.id,onClose:this.unmountTeamfulCollaborationPrompt})),k(this.teamfulCollaborationPromptComponent,this.teamfulCollaborationPromptDiv)},t}()},3841:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d={}.hasOwnProperty,h=[].slice;n=r(10),o=r(134),i=r(11),m=r(306),a=r(14),s=r(7),l=r(13),c=r(30),p=r(1).track,u=r(20),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)d.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,l),t.prototype.viewTitleKey="change logo",t.prototype.initialize=function(){return this.listenTo(this.model,"change:logoHash",this.frameDebounce(this.render))},t.prototype.events={"click .fakefile":function(e){return s.preventDefault(e),n(".js-upload-logo").click()},"change .js-upload-logo":"startUpload","click .js-remove-logo":"removeLogo"},t.prototype.render=function(){var e;return this,e=this.model.toJSON({prefs:!0}),this.$el.html(c.fill("popover_org_logo",e)),this},t.prototype.startUpload=function(e){var t,r,a,l,c,d,f;return this.model,l=n(e.target),t=this.$(".js-error").hide(),null==(a=null!=(c=l[0])&&null!=(d=c.files)?d[0]:void 0)||s.validFileSize(a)?!a&&l.val()?s.uploadFile(i.myToken(),l,this.uploadResult.bind(this)):null!=a?((r=new FormData).append("token",i.myToken()),r.append("file",a),o({url:l.closest("form").attr("action"),data:r,type:"post",processData:!1,contentType:!1,error:(f=this,function(e){return f.uploadResult(new Error(m(e)))}),success:function(e){return function(){return e.uploadResult.apply(e,[null].concat(h.call(arguments)))}}(this),timeout:12e4})):void 0:(t.text(u("images can not be larger than 10mb")).show(),void p("Organization","Logo","Upload Error - File Too Large"))},t.prototype.uploadResult=function(e){var t;return t=this.$(".js-error").hide(),e?(p("Organization","Logo","Error - "+e),t.show().text(e)):(p("Organization","Logo","Use Uploaded - New"),a.hide())},t.prototype.removeLogo=function(e){s.stop(e),o({url:"/1/organizations/"+this.model.id+"/logo",type:"DELETE",success:function(){return p("Organization","Logo","Remove Logo"),a.hide()}})},t}()},3842:function(e,t,r){var n,o;n=r(15).logoDomain,o=r(4)("org_detail"),e.exports=o.renderable(function(e){var t,r,i,a,s,l,u,m,c,p,d,h,f;return d=e.name,r=e.editable,p=e.logoHash,l=e.isEnterprise,h=e.paysWithPurchaseOrder,s=e.isBusinessClassAdmin,c=e.isInOrg,e.isOrgAdmin,i=e.hasAccount,t=e.accountProblem,m=e.isFullWidth,a=e.hasUnlimitedPowerUps,f=e.upsellEnabled,u=e.isEnterpriseAdmin,o.div(".tabbed-pane-header",function(){return o.div(".tabbed-pane-header-wrapper.u-clearfix",function(){return o.div(".tabbed-pane-header-content",function(){return o.a({class:o.classify({"tabbed-pane-header-image":!0,"profile-image":!0,"mod-team":!0,"is-editable":r,"js-change-org-logo":r}),href:"#"},function(){return p?o.img(".profile-image-image",{src:[n,p,"170.png"].join("/")}):o.span(".profile-image-icon.icon-lg.icon-organization"),o.span(".profile-image-change-text",function(){return o.format("change-logo")})}),o.div(".tabbed-pane-header-details",function(){if(o.div(".js-current-details"),r)return o.form(".js-profile-form.hide")})})})}),o.div(".tabbed-pane-nav.u-clearfix",function(){return o.ul(function(){var e;o.li(".tabbed-pane-nav-item",function(){return o.a(".tabbed-pane-nav-item-button.js-org-profile",{"data-tab":"boards",href:["",d].join("/")},function(){return o.format("boards")})}),o.li(".tabbed-pane-nav-item",function(){return o.a(".tabbed-pane-nav-item-button.js-org-members",{"data-tab":"members",href:["",d,"members"].join("/")},function(){return o.format("members")})}),(s||u)&&o.li(".tabbed-pane-nav-item",function(){return o.a(".tabbed-pane-nav-item-button.js-org-power-ups",{"data-tab":"power-ups",href:["",d,"power-ups"].join("/")},function(){return o.icon("business-class"),o.format("power-ups")})}),s&&o.li(".tabbed-pane-nav-item",function(){return o.a(".tabbed-pane-nav-item-button.js-org-export",{"data-tab":"export",href:["",d,"export"].join("/")},function(){return o.icon("business-class"),o.format("export")})}),c&&o.li(".tabbed-pane-nav-item",function(){return o.a(".tabbed-pane-nav-item-button.js-org-account",{"data-tab":"settings",href:["",d,"account"].join("/")},function(){return o.format("settings")})}),c&&!l&&!h&&f&&(e=["",d,"billing"].join("/"),o.li(".tabbed-pane-nav-item",function(){return i?t?o.a(".tabbed-pane-nav-item-button.js-billing",{"data-tab":"billing-issue",href:e},function(){return o.format("billing-issue")}):o.a(".tabbed-pane-nav-item-button.js-billing",{"data-tab":"billing",href:e},function(){return o.format("billing")}):a?void 0:o.a(".tabbed-pane-nav-item-button.dark-hover.js-billing",{"data-tab":"business-class",href:e},function(){return o.span(".icon-sm.icon-business-class.mod-inline.icon-business-class-color"),o.text(" "),o.format("business class")})}))})}),o.div(".tabbed-pane-main-col.u-clearfix",function(){return o.div(".tabbed-pane-main-col-loading.hide.js-loading-page",function(){return o.span(".tabbed-pane-main-col-loading-spinner.spinner")}),o.div({class:o.classify({"tabbed-pane-main-col-wrapper":!0,"js-content":!0,"is-full-width":m})})})})},3843:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h,f={}.hasOwnProperty;n=r(10),o=r(11),i=r(3844),s=r(0),l=r(58),u=r(307).ReactRootComponent,a=r(53).OrganizationFeatures,m=r(13),d=r(242),p=r(27),c=r(35).isDesktop,h=r(1).trackUe,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)f.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,m),t.prototype.initialize=function(){return this.listenTo(o.me(),"change:oneTimeMessagesDismissed",this.frameDebounce(this.render)),this.listenTo(this.model,{"change:paidAccount":this.frameDebounce(this.renderReactSection),"change:memberships":this.frameDebounce(this.renderReactSection),"change:billableCollaboratorCount":this.frameDebounce(this.renderReactSection)})},t.prototype.getReactRoot=function(){return s.createElement(u,{},this.getMultiBoardGuestBanner())},t.prototype.renderReactSection=function(){return l.render(this.getReactRoot(),this.$reactRoot[0]),this},t.prototype.render=function(){return null==this.$reactRoot&&(this.$reactRoot=n("<div></div>")),this.model.owned()?(this.$el.append(this.$reactRoot),this.renderReactSection()):this.$el.empty(),this},t.prototype.upgradeableProductCodes=function(){var e,t,r;return e=this.model.get("products"),null!=(null!=(t=this.model.get("paidAccount"))?t.pendingProduct:void 0)&&e.push(this.model.get("paidAccount").pendingProduct),e.filter((r=this,function(e){var t,n;return a.isFeatureEnabled("toBeUpgradedToMBGPlan",e)&&!(null!=(t=r.model.get("paidAccount"))&&null!=(n=t.expirationDates)?n[e]:void 0)}))},t.prototype.getNextProduct=function(){var e;return null==(null!=(e=this.model.get("paidAccount"))?e.billingDates:void 0)?null:this.upgradeableProductCodes().reduce(function(t,r){var n;return null==(null!=(n=e.billingDates)?n[r]:void 0)?t:null==t||t.nextBillingDate>e.billingDates[r]?{code:r,nextBillingDate:e.billingDates[r],interval:a.getInterval(r)}:t},null)},t.prototype.getMultiBoardGuestBanner=function(){var e,t,r,n,s,l,u,m,f;if(e="MultiBoardGuest2-"+this.model.id,o.me().isDismissed(e)||c())return null;if(m=this.getNextProduct(),(n=this.model.paysWithPurchaseOrder()&&this.model.isBusinessClass())&&!a.isFeatureEnabled("toBeUpgradedToMBGPlan",this.model.getProduct()))return null;if(null==m&&!n)return null;if(h("multiboard guests banner","displays","multiboard guests banner","","","by rendering the team settings page",{organizationid:this.model.id,billableGuestCount:this.model.get("billableCollaboratorCount")}),f=this,l=function(){return h("multiboard guests banner","dismisses","multiboard guests banner","","","by clicking the close button in corner",{organizationid:f.model.id}),o.me().dismiss(e)},u=function(e){return function(t,r,n,o,i){if(h("multiboard guests banner","visits",t,"","","by clicking the "+r+" "+n,{organizationid:e.model.id}),null!=o)return i?window.open(o,"_blank"):window.location=o}}(this),s=this.model.get("billableCollaboratorCount"),r=p(new Date("2018-12-17T08:00:00.000Z")),t=n?r:p(new Date(m.nextBillingDate)),s>0)for(;t<r;)t.add(1,"monthly"===m.interval?"month":"year");else t=r;return d.render(function(e){return function(){return d.div(function(){return d.createElement(i,{effectiveDate:t.format("LL"),multiBoardGuests:s,price:m?a.getPrice(m.code):null,interval:m?m.interval:null,teamUrl:"/"+e.model.get("name"),isBCPO:n,onDismissBanner:l,onTrackingEvent:u})})}}(this))},t.prototype.remove=function(){return l.unmountComponentAtNode(this.$reactRoot[0]),t.__super__.remove.apply(this,arguments)},t}()},3844:function(e,t,r){var n,o,i,a,s,l=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty;o=r(0),s=r(41)("multi_board_guest_banner"),a=r(148),i=r(530),n=function(e){function t(){return this.onClickLink=l(this.onClickLink,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,o.Component),t.prototype.displayName="MultiBoardGuestBanner",t.prototype.render=s.renderable(function(){var e,t,r,n,o,l,u,m,c,p,d,h,f;return p=this.props,r=p.effectiveDate,l=p.multiBoardGuests,c=p.price,n=p.interval,d=p.teamUrl,o=p.isBCPO,u=p.onDismissBanner,m=p.onTrackingEvent,t=a("multi-board-guests",l),e=i(c*l),h=d+"/members/guests",s.div(".multi-board-guest-banner",(f=this,function(){return s.button(".icon-lg.icon-close",{onClick:u}),s.div(".multi-board-guest-banner-content",function(){return s.div(".multi-board-guest-banner-notification-section",function(){return s.p({onClick:f.onClickLink},function(){return o?s.format("notification-for-bcpo",{effective_date:r}):l>0?"yearly"===n?s.format("notification-with-guests-per-year",{effective_date:r,url:h,count:t,amount:e}):s.format("notification-with-guests-per-month",{effective_date:r,url:h,count:t,amount:e}):s.format("notification-without-guests",{effective_date:r,url:h,count:t,amount:e})})}),s.div(".multi-board-guest-banner-button-section",function(){return l>0&&s.button(".primary.button-link.multi-board-guest-banner-button-manage",{onClick:function(){return m("team members view","manage-guests","button",h,!1)}},function(){return s.format("manage-guests")}),s.button(".button-link.multi-board-guest-banner-button-learn-more",{onClick:function(){return m("help article","learn-more","button","https://help.trello.com/article/1123-multi-board-guests",!0)}},function(){return s.format("learn-more")})})})}))}),t.prototype.onClickLink=function(e){var t,r,n;if((null!=(t=e.target.dataset)?t.description:void 0)&&(null!=(r=e.target.dataset)?r.type:void 0)&&(null!=(n=e.target.dataset)?n.target:void 0))return this.props.onTrackingEvent(e.target.dataset.description,e.target.dataset.type,e.target.dataset.target)},t}(),e.exports=n},4045:function(e,t,r){var n,o,i,a,s,l={}.hasOwnProperty;n=r(1269),o=r(24),i=r(0),a=r(2),s=r(41)("billing"),e.exports=function(e){function t(){this.state={taxes:null,error:null,loading:!0}}return function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,i.Component),t.prototype.displayName="WithSalesTax",t.prototype.UNSAFE_componentWillMount=function(){return this.updateSalesTaxes(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){return this.updateSalesTaxes(e,this.props)},t.prototype.componentWillUnmount=function(){var e;return null!=(e=this.taxPromise)?e.cancel():void 0},t.prototype.updateSalesTaxes=function(e,t){var r,n;if(null==t&&(t={}),this.willTaxesChange(e,t))return this.setState({taxes:null,error:null,loading:!0}),null!=(r=this.taxPromise)&&r.cancel(),this.taxPromise=this.taxesFromProps(e).then((n=this,function(e){return n.setState({taxes:e,error:null,loading:!1})})).catch(function(e){return function(t){return e.setState({taxes:null,error:t,loading:!1})}}(this))},t.prototype.willTaxesChange=function(e,t){return!a.isEqual(e.subtotals,t.subtotals)||e.dateStandingChange!==t.dateStandingChanged||e.getSalesTaxForSubscriberUrl!==t.getSalesTaxForSubscriberUrl||e.nextBillingDate!==t.nextBillingDate},t.prototype.taxesFromProps=function(e){var t,r,n,i,s;return r=e.salesTaxForSubscriberUrl,n=e.subtotals,t=e.nextBillingDate,i=null!=t?new Date(t):new Date,o.all(n.map((s=this,function(e){return s.calculateSalesTax(r,e,i)}))).then(function(e){return a.pluck(e,"tax")})},t.prototype.calculateSalesTax=function(e,t,r){return n({url:e,data:{subtotal:t,taxDate:r.toISOString()}})},t.prototype.render=s.renderable(function(){var e,t,r,n,o,i,a;return n=(t=this.props).renderContents,o=t.renderError,i=t.renderLoading,a=(r=this.state).taxes,e=r.error,r.loading?i():e?o(e):n(a)}),t}()},4085:function(e,t,r){"use strict";r.r(t),r.d(t,"InviteTeamMembersAutocompleteComponent",function(){return h});var n=r(0),o=r.n(n),i=r(9),a=r(2),s=r(1),l=r(4432),u=r.n(l);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=r(98),p=r(844),d=Object(i.forTemplate)("org_members"),h=function(e){var t=e.children,r=e.placeholder,i=e.orgId,l=e.model,h=e.onEmailSelected,f=void 0===h?function(){}:h,g=e.optionsAddMembers,b=e.fullWidthButton,v=e.onInviteTeamMembersSuccess,y=m(Object(n.useState)([]),2),w=y[0],_=y[1],M=m(Object(n.useState)(!1),2),C=M[0],x=M[1],k=g?g.invitationMessage:"",T=!!g&&g.changedInviteMessage,E={placeholder:r,onSubmit:function(){var e;e=k?T?"with personalized invite message":"with canned invite message":"with no invite message",Object(s.trackUe)({category:s.Noun.TEAM_VIEW,verb:s.Verb.SENDS,directObj:s.Noun.TEAM_INVITATION,prepositionalObj:e,indirectObj:"with ".concat(w.length," invites"),method:"by clicking invite to team button on team members page",context:{teamId:l.get("id")}});var t=l.addMembers(w,{invitationMessage:k});return v&&(x(!0),v()),t},onAutocompleteSearch:function(e){return e.length>2?c({url:"/1/search/members/",type:"get",data:{query:e,idOrganization:i},dataType:"json"}):[]},displayDetails:!0,displayUsername:!0,submitText:d("invite-to-team"),onRemoveMemberOption:function(e){_(function(t){return t.filter(function(t,r){return r!==e})})},onSelectMemberOption:function(e){_(function(t){return Object(a.uniq)(Object(a.union)(t,Object(a.flatten)([e])),!1,function(e){return e.username?e.username:e.email})}),f()},shouldFocusOnSelectMemberOption:!0,selectedOptions:w,children:t,fullWidthButton:b,submitDisabled:C||!l};return o.a.createElement("div",{className:"org-team-members-autocomplete-container"},o.a.createElement("label",{className:u.a.teamMemberLabel},o.a.createElement("span",{className:u.a.teamMemberLabelText},d("team-members")),o.a.createElement(p,E)))}},4429:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(0),o=r.n(n),i=r(5),a=r.n(i),s=r(9),l=r(4430),u=r.n(l),m=r(4085),c=r(23);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=r(29),h=Object(s.forTemplate)("org_members"),f=function(e){var t=e.orgId,r=e.orgDisplayName,i=e.model,s=e.startAnimation,l=e.fullWidthButton,f=e.className,g=e.onInviteTeamMembersSuccess,b=e.preventTextareaResize,v=h("personalized-message-2",{teamName:r}),y=p(Object(n.useState)(v),2),w=y[0],_=y[1],M=p(Object(n.useState)(),2),C=M[0],x=M[1],k=Object(c.useFeatureFlag)("enable-invite-email-message",!1);Object(n.useEffect)(function(){var e;regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=6;break}return r.next=3,regeneratorRuntime.awrap(d.loadOrganizationData(t));case 3:return e=r.sent,r.next=6,regeneratorRuntime.awrap(x(e));case 6:case"end":return r.stop()}})},[i,t]);var T,E,A,O=v!==w;return o.a.createElement("div",{className:a()(u.a.formWrapper,f)},o.a.createElement("div",{className:u.a.heading},h("invite-your-team")),o.a.createElement("div",{className:u.a.subtitle},h("trello-makes-teamwork-your-best-work")),o.a.createElement(m.InviteTeamMembersAutocompleteComponent,{placeholder:h("invite-input-placeholder"),orgId:t,model:i||C,optionsAddMembers:{invitationMessage:w,changedInviteMessage:O},onEmailSelected:s,fullWidthButton:l,onInviteTeamMembersSuccess:g},o.a.createElement("div",{className:u.a.autocompleteHelpText},o.a.createElement("strong",null,h("pro-tip"))," ",h("paste-as-many-emails-here-as-needed")),k&&o.a.createElement("label",{className:u.a.invitationMessageLabel},o.a.createElement("span",{className:u.a.invitationMessageLabelText},h("give-this-message-a-personal-touch")),o.a.createElement("textarea",{className:a()(u.a.invitationMessage,(T={},E=u.a.invitationMessageNoResize,A=b,E in T?Object.defineProperty(T,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):T[E]=A,T)),placeholder:h("personalized-message-placeholder"),value:w,onChange:function(e){_(e.target.value)},maxLength:500}))))}},4430:function(e,t,r){var n=r(4431);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(19)(n,o);n.locals&&(e.exports=n.locals)},4431:function(e,t,r){(t=e.exports=r(18)(!1)).push([e.i,"._2ozyzeoG-varDs{width:100%}._2ozyzeoG-varDs .autocomplete-input-container{max-width:none}._2ozyzeoG-varDs .autocomplete-btn{margin-bottom:0}._2XVmjWq1Ds8-i2{color:#172b4d;font-size:14px;font-weight:400;line-height:20px;margin:8px 0 16px}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._2XVmjWq1Ds8-i2{text-align:center}}._2-T1xH-fhIz60N{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;margin-top:0}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._2-T1xH-fhIz60N{text-align:center}}._2wzRTdc1Iq0neb{color:#172b4d;font-size:14px;font-weight:400;line-height:20px;color:#5e6c84;margin:8px 0 28px}._1WPFYqViAabF58{margin:0}._3XpIQdKAqERycK{font-weight:700;color:#5e6c84;font-size:12px;line-height:16px;margin-top:12px;margin-bottom:4px;display:block;margin-bottom:12px}.wS5q-Owapul__t{background-color:#fafbfc;color:#172b4d;height:156px;margin-bottom:0}.wS5q-Owapul__t,.wS5q-Owapul__t:hover{border:none;box-shadow:inset 0 0 0 2px #dfe1e6}.wS5q-Owapul__t:hover{background-color:#ebecf0}.wS5q-Owapul__t:focus{background:#fff;border:none;box-shadow:inset 0 0 0 2px #0079bf}._12XgQEL5_g2Lmq{resize:none}",""]),t.locals={formWrapper:"_2ozyzeoG-varDs",subtitle:"_2XVmjWq1Ds8-i2",heading:"_2-T1xH-fhIz60N",autocompleteHelpText:"_2wzRTdc1Iq0neb",invitationMessageLabel:"_1WPFYqViAabF58",invitationMessageLabelText:"_3XpIQdKAqERycK",invitationMessage:"wS5q-Owapul__t",invitationMessageNoResize:"_12XgQEL5_g2Lmq"}},4432:function(e,t,r){var n=r(4433);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(19)(n,o);n.locals&&(e.exports=n.locals)},4433:function(e,t,r){(t=e.exports=r(18)(!1)).push([e.i,"._3PdcYVtRuHTlvL{margin:0}._1h9PvS3YBMEHS9{font-weight:700;color:#5e6c84;font-size:12px;line-height:16px;margin-top:12px;margin-bottom:4px;display:block;margin-bottom:12px}",""]),t.locals={teamMemberLabel:"_3PdcYVtRuHTlvL",teamMemberLabelText:"_1h9PvS3YBMEHS9"}},4497:function(e,t,r){var n,o,i,a,s,l,u,m,c={}.hasOwnProperty,p=[].slice;o=r(0),l=r(41)("bulk_add_org_members"),a=r(2),r(64),r(98),n=r(14),r(24),u=r(1).track,i=r(4498),s=/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i,m=/^@[a-z0-9_]{3,}$/,e.exports=function(e){function t(e){var r,n;t.__super__.constructor.apply(this,arguments),this.state={addingMembers:!1,addedMembers:!1,progressText:"",enterpriseName:null!=(r=null!=(n=e.model.getEnterprise())?n.get("displayName"):void 0)?r:"",entry:"",results:[]},this.onInputChanged=this.onInputChanged.bind(this),this.onClose=this.onClose.bind(this),this.addMembers=this.addMembers.bind(this),this._parseEntries=this._parseEntries.bind(this),this._parseEmails=this._parseEmails.bind(this),this._parseUsernames=this._parseUsernames.bind(this)}return function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,o.Component),t.prototype._parseEntries=function(){return this.state.entry.split(/[\s,;"<>]/)},t.prototype._parseEmails=function(){return a.chain(this._parseEntries()).map(function(e){return e.replace(/^\s+|\s+$/g,"").toLowerCase()}).filter(function(e){return s.test(e)}).uniq().sort().value()},t.prototype._parseUsernames=function(){return a.chain(this._parseEntries()).map(function(e){return e.replace(/^\s+|\s+$/g,"").toLowerCase()}).filter(function(e){return m.test(e)}).map(function(e){return e.replace(/@/g,"")}).uniq().sort().value()},t.prototype.onClose=function(){return n.hide()},t.prototype.onInputChanged=function(e){return this.setState({entry:e.target.value})},t.prototype.addMembers=function(e){var t,r,n;return t=this.props.model,this.setState({addingMembers:!0}),r=p.call(this._parseEmails()).concat(p.call(this._parseUsernames())),u("Organization View","Members Page","Bulk Add",r.length),t.addMembers(r,{ignoreErrors:!0},(n=this,function(e){return n.setState({progressText:e.completed+"/"+e.length})})).then(function(e){return function(t){var n,o;for(n in e.setState({addingMembers:!1,addedMembers:!0,results:t}),o=[],t)t[n],o.push(u("Organization View","Members Page","Bulk Add",n,r.length));return o}}(this)).done()},t.prototype.render=l.renderable(function(){var e,t,r,n,o,a,s,u,m,c,p,d,h;return s=this.props.model,t=(m=this.state).addingMembers,e=m.addedMembers,u=m.progressText,c=m.results,o=m.enterpriseName,a=m.entry,t?l.div(function(){return l.div(".spinner.loading"),l.div(".org-members-bulk-add-progress",function(){return l.text(u)})}):e?l.div((h=this,function(){return c._categoryOrder.filter(function(e){var t;return(null!=(t=c[e])?t.length:void 0)>0}).map(function(e){return l.div(".org-members-bulk-add-results-heading",function(){return l.format(["category",e],{enterpriseDisplayName:o}),l.text(" ("),l.text(c[e].length),l.text(")")}),l.div(".org-members-bulk-add-results-list",function(){var t,r,n,o;for(o=[],t=0,r=(n=c[e]).length;t<r;t++)a=n[t],o.push(l.div(".org-members-bulk-add-results-list-item",function(){return l.text(a)}));return o})}),l.div(function(){return l.button(".primary.full",{onClick:h.onClose},function(){return l.format("done")})})})):(n=this._parseEmails().length,d=this._parseUsernames().length,r=n+d,p=s.isBusinessClass()&&!s.isPO(),l.div(".add-member-popup",function(e){return function(){var t,o,u;return l.label(function(){return l.format("emails-or-usernames"),l.textarea(".org-members-bulk-add",{placeholder:l.l("list-placeholder"),onChange:e.onInputChanged,value:a})}),l.div({class:l.classify({"org-members-bulk-add-found":!0,quiet:!0,"bottom-padding":p})},function(){if(n>0&&l.div(".org-members-bulk-add-found-entry",function(){return l.format("email-addresses-found"),l.text(" "+n)}),d)return l.div(".org-members-bulk-add-found-entry",function(){return l.format("usernames-found"),l.text(" "+d)})}),p?(t=r?s.calculateTotalPrice(r):0,s.isPremiumMonthly()&&(u="monthly-subscription"),s.isPremiumYearly()&&(u="yearly-subscription"),o=s.urlRoot+"/"+s.id+"/paidAccount/salesTaxForSubscriber",l.createElement(i,{addSelectedMembers:e.addMembers,price:t,selectedMembersCount:r,subscriptionIntervalKey:u,salesTaxForSubscriberUrl:o})):l.button({class:l.classify({primary:!0,full:!0,disabled:!r}),onClick:e.addMembers},function(){return l.format("add")})}}(this)))}),t}()},4498:function(e,t,r){var n,o,i,a;n=r(4045),o=r(530),i=r(148),a=r(41)("manage_members"),e.exports=a.statelessRenderable("Summary",function(e){var t,r,s,l,u,m,c;return t=e.addSelectedMembers,l=e.price,u=e.salesTaxForSubscriberUrl,m=e.selectedMembersCount,c=e.subscriptionIntervalKey,r=m?"":".disabled",s=i("new member license count",m),a.div(function(){return a.div(".summary-header.quiet",function(){return a.format("summary")}),a.div(".summary",function(){return a.div(".license-count",function(){return a.text(s)}),a.div(".quiet",function(){return a.format(c)}),a.div(".total",function(){return a.createElement(n,{salesTaxForSubscriberUrl:u,subtotals:[l],renderLoading:function(){return a.span(".spinner")},renderError:function(){return a.span()},renderContents:function(e){var t;return t=e[0],a.format("total-price",{price:o(l+t)})}})})}),a.button(".primary.full"+r,{onClick:t,disabled:!m},function(){return a.format("add-to-team")})})})},4499:function(e,t,r){var n,o,i,a,s={}.hasOwnProperty;n=r(21).Storage,o=r(13),i=r(30),a=r(1).track,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,o),t.prototype.viewTitleKey="link google apps domain",t.prototype.events={"click .js-link":"link"},t.prototype.render=function(){var e;return e=this.model.toJSON(),this.$el.html(i.fill("org_link_ga_helper",e,{editable:this.model.editable()})),this},t.prototype.link=function(){a("Organization View","Members Page","Google Apps Marketplace link"),n.isEnabled()&&n.set("idOrganizationLinking",this.model.id)},t}()},4500:function(e,t,r){var n,o,i,a,s,l={}.hasOwnProperty;i=r(0),s=r(41)("org_members"),o=r(4501),a=r(2),n=r(1207).default,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,i.Component),t.prototype.itemsRenderer=function(e,t){return i.createElement("div",{className:".org-members-list",ref:t},e)},t.prototype.render=s.renderable(function(){var e,t,l,u,m;return u=this.props,t=u.memberItems,l=u.memberTypeFilter,m=this,e=function(e,r){var n,s;return s=m.props,t=s.memberItems,n=s.isFetchingBoards,i.createElement(o,a.extend(t[e],{key:r,isFetchingBoards:n}))},t.length?s.addElement(i.createElement(n,{itemCount:t.length,itemsRenderer:this.itemsRenderer,renderItem:e,pageSize:100})):s.div(function(){return s.div(".org-members-missing-container",function(){return s.img({className:"org-members-missing-illustration",alt:s.l("no-guest-result"),src:r(4813)}),s.div(".org-members-missing-content",function(){return"guest"===l?s.p(function(){return s.format("no-guest-result")}):s.p(function(){return s.format("no-member-result")})})})})}),t}()},4501:function(e,t,r){var n,o,i,a={}.hasOwnProperty;n=r(0),i=r(41)("member_list_item_detail"),o=r(148),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n.Component),t.prototype.render=i.renderable(function(){var e,t,r,n,a,s,l,u,m,c,p,d,h,f,g,b,v,y,w,_,M,C,x,k,T,E,A,O,P,S,I,B;return O=this.props,b=O.isVirtual,p=O.isDeactivated,B=O.viewTitle,l=O.fullName,I=O.username,S=O.showGoogleApps,u=O.gMail,d=O.isFetchingBoards,a=O.boardCount,f=O.isOrgMember,P=O.showActivity,t=O.allowTypeChange,E=O.orgMemberType,e=O.allowReactivate,h=O.isMe,s=O.canRemove,T=O.orgIsBC,A=O.ownsOrg,m=O.hidden,k=O.onViewActivity,O.onViewBoards,C=O.onRoleChange,M=O.onRemoveOrDeactivate,n=O.avatarHash,r=O.avatarDomain,c=O.initials,g=O.isOrganizationAdmin,_=O.onReactivateClick,x=O.onUnhideMember,y=O.onHideMember,w=O.onInviteMember,v=O.onAddToTeam,i.div({class:i.classify({"member-list-item-detail":!0})},function(){return i.div({class:i.classify({member:!0,"member-no-menu":!0,"member-virtual":b,"member-deactivated":p})},function(){return n?i.img(".member-avatar",{height:"30",width:"30",alt:B,title:B,src:[r,n,"30.png"].join("/"),srcSet:[r,n,"30.png 1x"].join("/")+", "+[r,n,"50.png 2x"].join("/")}):i.span(".member-initials",{title:B},function(){if(c)return i.text(c)}),p||g&&i.span(".member-type.admin",{title:i.l("this-member-is-an-admin-of-this-organization")}),i.span(".member-gold-badge",{title:i.l("this-member-has-trello-gold")})}),i.div(".details",function(){return i.p(".name-line",function(){return i.span(".full-name",function(){return i.text(l)})}),i.p(".u-bottom.quiet",function(){if(I&&i.span(".quiet.u-inline-block",function(){return i.format("at-username",{username:I})}),S&&u)return I&&i.text("- "),i.icon("google"),i.text(u)})}),i.div(".options",function(){if(P&&(d?i.div(".option.quiet-button",function(){return i.span(".spinner.centered.small")}):i.b(k,".option.quiet-button",function(){return i.format("on-boardcount",{boardCount:o("boards",a)})})),f){if(t?i.b(C,".option.button-link.role-button",function(){return i.text(E),i.icon("overflow-menu-horizontal")}):i.p(".option.status.quiet",function(){return i.text(E)}),e&&i.b(_,".option.quiet-button",function(){return i.format("reactivate")}),h)return i.b(M,{class:i.classify({option:!0,"button-link":!0,"remove-button":!0,disabled:!s}),disabled:!s},function(){return T?i.icon("close","leave-ellipsis"):i.icon("close","leave")});if(A)return i.b(M,{class:i.classify({option:!0,"button-link":!0,"remove-button":!0,disabled:!s}),disabled:!s},function(){return i.icon("close","remove-ellipsis")})}else{if(S)return m?i.b(x,".option.quiet-button",function(){return i.format("always-show")}):i.b(y,".option.quiet-button",function(){return i.format("dismiss")}),i.b(w,".option.button-link.primary",function(){return i.icon("add","add-member")});if(t)return i.b(v,".option.button-link",function(){return i.format("add-to-team")})}})})}),t}()},4792:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h,f,g,b,v,y,w,_,M,C,x,k,T,E,A,O,P,S,I,B=function(e,t){return function(){return e.apply(t,arguments)}},L={}.hasOwnProperty,N=[].slice;n=r(51),o=r(64),i=r(98),a=r(11),l=r(43),g=r(14),b=r(0),k=r(306),T=r(662).maybeDisplayOrgMemberLimitsError,O=r(41)("manage_members"),E=r(1),P=E.track,S=E.trackUe,w=r(2),x=r(20),f=r(53).OrganizationFeatures,M=r(530),I=r(450).useNonPublicIfAvailable,y=r(271).UpgradePromptFullConnected,m=r(17).IconName,C=r(35).isDesktop,s=r(4497),c=r(4793),d=r(4794),p=r(4796),h=r(4797),v=r(4498),A=r(15).siteDomain,_=function(e){return w.debounce(e,250)},u=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/,e.exports=function(e){function t(e){this.showBulkAddView=B(this.showBulkAddView,this),this._handleError=B(this._handleError,this),this.addSelectedMembers=B(this.addSelectedMembers,this),this.onSearchInputChange=B(this.onSearchInputChange,this),this.toggleMember=B(this.toggleMember,this),this.renderSummary=B(this.renderSummary,this),this.renderAddButton=B(this.renderAddButton,this),this.renderBCPrompt=B(this.renderBCPrompt,this),this.renderInviteAddName=B(this.renderInviteAddName,this),this.renderLinkGoogleApps=B(this.renderLinkGoogleApps,this),this.renderInvitationLink=B(this.renderInvitationLink,this),this.renderMemberList=B(this.renderMemberList,this),t.__super__.constructor.call(this,e),this.state={isSearching:!1,members:null,searchValue:null,selectedMembers:[]},this.props.model}return function(e,t){for(var r in t)L.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,b.Component),t.prototype.displayName="ManageOrgMembersComponent",t.prototype.render=O.renderable(function(){var e,t,r,n,o,i,s,l,m,c,p,d,h,g,b,v,y,w;return o=(d=this.state).isSearching,s=d.members,g=d.searchValue,b=d.selectedMembers,l=this.props.model,y=l.isBusinessClass()&&!l.isPO(),v=!l.isPremium()&&!C(),h=o?"":".hide",t=g&&u.test(g)&&a.me().get("email")!==g,p=l.getProduct(),c=x("add member placeholder"),n=f.isPerUser(p),m=M(f.getPrice(p)),i="yearly"===f.getInterval(p),r="monthly"===f.getInterval(p),e=l.isFeatureEnabled("googleApps")&&(!l.get("prefs").associatedDomain||this.googleAppsFetchFailed)&&l.editable(),O.div(".add-member-popup.team-members-tab-layout",(w=this,function(){var o;return O.div(".manage-member-invitation-section",function(){return O.div(".search-with-spinner",function(){return O.h4(function(){return O.icon("member","enter-email-address-or-name")}),O.input(".search-member.js-autofocus",{type:"text",placeholder:c,onChange:w.onSearchInputChange}),O.div(".spinner.small"+h),O.p(".u-bottom.quiet.bulk-add-members-copy",function(){return O.format("big-team"),O.a(".u-bottom.action-link",{href:"#",onClick:w.showBulkAddView},function(){return O.format("add-many-people-at-once")})})})}),s&&(s.length?w.renderMemberList():t?w.renderInviteAddName():O.div(".quiet.search-text.no-results",function(){return O.format("no-results")})),n&&(null!=(o=l.get("paidAccount"))?o.userCountBilledThisPeriod:void 0)<=l.memberList.length&&O.p(".quiet.u-bottom.per-user",function(){if(r&&O.format("business-class-pricing-is-per-user-adding-a-member-will-increase-the-price-by-jpsprice-per-month",{jpsPrice:m}),i)return O.format("business-class-pricing-is-per-user-adding-a-member-will-increase-the-price-by-jpsprice-per-year",{jpsPrice:m})}),w.renderInvitationLink(),O.div(".js-ad"),e&&w.renderLinkGoogleApps(),v&&w.renderBCPrompt(),y&&b.length?w.renderSummary():w.renderAddButton()}))}),t.prototype.renderMemberList=function(){var e,t,r;return e=(t=this.state).members,r=t.selectedMembers,O.createElement(h,{members:e,selectedMembers:r,toggleMember:this.toggleMember})},t.prototype.renderInvitationLink=function(){var e,t;return e=this.props.model,t=A+"/"+e.get("name"),O.createElement(c,{apiUrl:e.url(),teamUrl:t,teamId:e.get("id")})},t.prototype.renderLinkGoogleApps=function(){var e,t,r,n;return e=(r=this.props).model,t=r.modelCache,n=e.isBusinessClass()&&!e.isPO(),O.createElement(d,{model:e,modelCache:t,showBillingSummary:n})},t.prototype.renderInviteAddName=function(){var e,t,r,n;return t=(n=this.props).model,r=n.modelCache,e=this.state.searchValue,O.createElement(p,{email:e,model:t,modelCache:r})},t.prototype.renderBCPrompt=function(){var e;return e={headline:x(["upgrade prompt","team page","invite-popover","headline"]),content:x(["upgrade prompt","team page","invite-popover","content"]),cta:x(["upgrade prompt","learn more"]),ctaLink:l.getOrganizationBillingUrl(this.props.model),ctaOnClick:function(){return S("team page","opens","team page bc tab","","","by clicking full upgrade prompt in team page invite members popover")},iconName:m.Member},O.div(".bc-prompt-invite-popover",function(){return O.createElement(y,e)})},t.prototype.renderAddButton=function(){var e,t;return e=(t=this.state.selectedMembers.length)?"":".disabled",O.button(".primary.full"+e,{onClick:this.addSelectedMembers,disabled:!t},function(){return O.format("add-to-team")})},t.prototype.renderSummary=function(){var e,t,r,n,o,i;return n=this.state.selectedMembers,e=this.props.model,o=n.length,t=e.calculateTotalPrice(o),e.isPremiumMonthly()&&(i="monthly-subscription"),e.isPremiumYearly()&&(i="yearly-subscription"),r=e.urlRoot+"/"+e.id+"/paidAccount/salesTaxForSubscriber",O.createElement(v,{addSelectedMembers:this.addSelectedMembers,price:t,salesTaxForSubscriberUrl:r,selectedMembersCount:o,subscriptionIntervalKey:i})},t.prototype.toggleMember=function(e){var t;return t=this.state.selectedMembers.some(function(t){return t===e})?this.state.selectedMembers.filter(function(t){return t!==e}):N.call(this.state.selectedMembers).concat([e]),this.setState({selectedMembers:t})},t.prototype.onSearchInputChange=function(e){var t;return t=e.target.value,this.setState({selectedMembers:[]}),t.length?this.searchMembers(t):this.setState({members:null,searchValue:null})},t.prototype.searchMembers=_(function(e){return e=e.toLowerCase().trim(),this.setState({isSearching:!0,searchValue:e}),i({url:"/1/search/members/",type:"get",data:{idOrganization:this.props.model.id,query:e},dataType:"json"}).then((t=this,function(e){return e=w.chain(e).filter(function(e){return e.id}).map(function(e){return w.extend(e,{avatarHash:I(e,"avatarHash"),avatarUrl:I(e,"avatarUrl"),fullName:I(e,"fullName"),initials:I(e,"initials")})}).sortBy(function(e){var t;return null!=(t=e.fullName)?t.toLocaleLowerCase():void 0}).value(),t.setState({isSearching:!1,members:e})}));var t}),t.prototype.addSelectedMembers=function(){var e,t,r,n,i;if(r=this.state,e=r.members,n=r.selectedMembers,t=this.props.model,!T(this.el,t,null))return n.forEach((i=this,function(r){var n;return n=e.filter(function(e){return e.id===r})[0],t.addMembers(n).catch(o,i._handleError)})),g.hide()},t.prototype._handleError=function(e){var t,r;return t=k(e),n.showLiteralText(t,"error","alert",3e3),P("Invitations","Error: "+(null!=(r=e.message)?r:e.responseText))},t.prototype.showBulkAddView=function(){var e;return e=this.props.model,g.toggle({elem:this.el,getViewTitle:function(){return x(["view title","add members"])},reactElement:b.createElement(s,{key:"bulk add members",model:e})})},t}()},4793:function(e,t,r){var n,o,i,a,s=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty;n=r(98),o=r(0),i=r(41)("manage_members"),r(20),a=r(1).trackUe,e.exports=function(e){function t(e){this.copyInvitationLink=s(this.copyInvitationLink,this),this.deactivateInvitationLink=s(this.deactivateInvitationLink,this),this.inputDidMount=s(this.inputDidMount,this),this.showLink=s(this.showLink,this),t.__super__.constructor.call(this,e),this.state={linkEnabled:!1,invitationUrl:""}}return function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,o.Component),t.prototype.displayName="InvitationLink",t.prototype.render=i.renderable(function(){var e,t,n,o;return n=this.state,e=n.invitationUrl,t=n.linkEnabled,i.div(".invitation-link-wrapper",(o=this,function(){if(i.div(".invitation-link-header",function(){if(i.h4(function(){return i.img(".icon-share-link",{src:r(1301)}),i.format("share-team-invite-link")}),!t)return i.a(".action-link",{href:"#",onClick:o.showLink},function(){return i.format("create-link")})}),t)return i.div(function(){return i.div(".invitation-link-actions",function(){return i.input({type:"text",readOnly:!0,placeholder:i.l("loading"),ref:o.inputDidMount,value:e,onClick:o.copyInvitationLink}),i.button(".button.primary",{onClick:function(){return o.copyInvitationLink({target:o.invitationInput})}},function(){return i.format("copy")})}),i.a(".quiet",{href:"#",onClick:o.deactivateInvitationLink},function(){return i.format("disable-this-link")})})}))}),t.prototype.showLink=function(){return a("team view","opens","team invitation link","","","through members page invite menu",{teamId:this.props.teamId}),this.setState({linkEnabled:!0})},t.prototype.inputDidMount=function(e){var t,r,o,i;if(this.invitationInput=e,e)return t=(r=this.props).apiUrl,o=r.teamUrl,n({method:"post",url:t+"/invitationSecret"}).get("secret").then((i=this,function(t){var r;return r=o.replace(/(\/b\/[^\/]+|\/[^\/]+$)(.*)$/,"/invite$1/"+t+"$2"),i.setState({invitationUrl:r}),e.focus()})).done()},t.prototype.deactivateInvitationLink=function(e){var t;return t=this.props.apiUrl,this.setState({invitationUrl:"",linkEnabled:!1}),a("team view","disables","team invitation link","","","through members page invite menu",{teamId:this.props.teamId}),n({method:"delete",url:t+"/invitationSecret"}).done()},t.prototype.copyInvitationLink=function(e){return e.target.select(),a("team view","copy","team invitation link","","","through members page invite menu",{teamId:this.props.teamId}),document.execCommand("copy")},t}()},4794:function(e,t,r){var n,o,i,a,s,l=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty;i=r(0),a=r(41)("manage_members"),s=r(1).track,o=r(14),n=r(4499),e.exports=function(e){function t(e){this.startLinkingGoogleApps=l(this.startLinkingGoogleApps,this),t.__super__.constructor.call(this,e)}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,i.Component),t.prototype.displayName="LinkGoogleApps",t.prototype.render=a.renderable(function(){return a.div({class:a.classify({"link-google-apps-with-summary":this.props.showBillingSummary}),onClick:this.startLinkingGoogleApps},function(){return a.div(".pop-over-ad.business-class-ad",function(){return a.img(".icon-google-g.pop-over-ad-icon",{src:r(4795)}),a.div(".ad-copy",function(){return a.span(".title",function(){return a.format("using-google-apps")}),a.span(".learn-more",function(){return a.format("link-google-apps-domain")})})})})}),t.prototype.startLinkingGoogleApps=function(e){var t,r,i;return s("Organization View","Members Page","Start Linking Google Apps Domain"),t=(i=this.props).model,r=i.modelCache,o.pushView({view:n,options:{model:t,modelCache:r}})},t}()},4795:function(e,t,r){e.exports=r.p+"images/services/google-g-logo.2ccbebadc7891e8f0896.svg"},4796:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;n=r(51),o=r(64),r(98),m=r(306),i=r(14),a=r(0),c=r(41)("invite_add_name"),p=r(1).track,s=r(7),l=r(2),u=function(e){var t,r,n;return n=/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,r=/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,t=l.compact(s.removeDomainFromEmailAddress(e).split(n)).join(" ").replace(r,""),s.toTitleCase(t)},d=function(e){return!s.validName(e)},e.exports=function(e){function t(e){var r;this._handleError=h(this._handleError,this),this.sendEmailInvite=h(this.sendEmailInvite,this),this.onSubmit=h(this.onSubmit,this),this.onNameChange=h(this.onNameChange,this),t.__super__.constructor.call(this,e),r=u(this.props.email),this.state={err:d(r),fullName:r}}return function(e,t){for(var r in t)f.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a.Component),t.prototype.displayName="InviteAddName",t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t,r;return t=e.email,r=u(t),this.setState({err:d(r),fullName:r})},t.prototype.render=c.renderable(function(){var e,t,r,n,o,i,a,s;return n=this.props,e=n.email,n.model,n.modelCache,t=(o=this.state).err,r=o.fullName,i=o.submitting,a=t?"":".hide",c.div({style:{marginTop:"10px"}},(s=this,function(){return c.p(".quiet",function(){return c.format("we dont know that personteam",{email:e})}),c.p(".error"+a,function(){return c.format("full name too short")}),c.form({onSubmit:s.onSubmit},function(){return c.label(function(){return c.format("full-name")}),c.input({type:"text",value:r,onChange:s.onNameChange}),c.input(".wide.primary",{type:"submit",disabled:i,value:c.l("send")})})}))}),t.prototype.onNameChange=function(e){var t;return t=e.target.value,this.setState({err:d(t.trim()),fullName:t})},t.prototype.onSubmit=function(e){if(e.preventDefault(),!this.state.err)return this.sendEmailInvite()},t.prototype.sendEmailInvite=function(){var e,t,r,n,a,s;return t=(a=this.props).email,a.member,n=a.model,a.modelCache,r=this.state.fullName,e={fullName:r,email:t,type:"normal"},this.setState({submitting:!0}),n.addMembers(e).then(function(t){var r,n;for(n in r=t[t._categories.ADDED],l.omit(t,t._categories.ADDED),r)p("Invitations","Send Email Org Invite to New Member","Role: "+e.type);return i.hide()}).finally((s=this,function(){return s.setState({submitting:!1})})).catch(o,this._handleError)},t.prototype._handleError=function(e){var t,r;return t=m(e),n.showLiteralText(t,"error","alert",3e3),p("Invitations","Error: "+(null!=(r=e.message)?r:e.responseText))},t}()},4797:function(e,t,r){var n,o;o=r(41)("manage_members"),n=r(4798),e.exports=o.statelessRenderable("MemberList",function(e){var t,r,i;return t=e.members,r=e.selectedMembers,i=e.toggleMember,o.div(function(){return o.div(".member-list-header",function(){return o.div(".name.quiet",function(){return o.format("name")}),o.div(".select.quiet",function(){return o.format("select")})}),t.forEach(function(e){var t;return t=r.some(function(t){return t===e.id}),o.createElement(n,{isSelected:t,member:e,toggleMember:i})})})})},4798:function(e,t,r){var n,o;n=r(15).avatarDomain,o=r(41)("manage_members"),e.exports=o.statelessRenderable("Member",function(e){var t,r,i,a,s,l,u,m,c,p,d,h,f;return l=e.isSelected,u=e.member,h=e.toggleMember,t=u.avatarHash,i=u.fullName,s=u.initials,a=u.id,f=u.username,r=u.joined,m=function(){if(!r)return h(a)},c=function(e){if(!r&&("Enter"===e.key||" "===e.key))return m()},p=l?".checked":"",d=i+" ("+f+")",o.div(".member-wrapper",{class:o.classify({disabled:r}),tabIndex:0,onClick:m,onKeyUp:c},function(){if(o.div(".member",function(){return t?o.img(".member-avatar",{height:"32",width:"32",src:n+"/"+t+"/50.png",srcSet:n+"/"+t+"/50.png 1x, "+n+"/"+t+"/50.png 2x",alt:d,title:d}):o.span(".member-initials",{title:d},function(){return o.text(s)})}),o.div(".full-name",function(){return o.text(i)}),o.div(".username.quiet",function(){return o.text("@"+f)}),!r)return o.div(".checkbox"+p,function(){return o.span(".icon-lg.icon-check")})})})},4799:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h={}.hasOwnProperty;n=r(43),o=r(72),a=r(4800),i=r(4801),l=r(4802),s=r(14),u=r(7),m=r(13),c=r(2),p=r(30),d=r(1).track,r(20),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)h.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,m),t.prototype.viewTitleKey="team boards",t.prototype.viewTitleArguments=function(){return{memberName:this.model.get("fullName")}},t.prototype.initialize=function(){var e,t,r,n,o;for(this.org=this.options.org,o=[],t=0,r=(n=this.getMemberBoards()).length;t<r;t++)e=n[t],o.push(this.listenTo(e.memberList,"add remove reset",this.renderBoards));return o},t.prototype.events={"click .js-view-org-boards-for-member":"viewBoards","click .js-view-member-org-cards":"viewCards","click .js-remove-guest-from-team-boards":"removeGuestFromTeamBoards"},t.prototype.render=function(){var e,t;return(t=this.model.toJSON()).isPremium=this.org.isPremium(),e=this.getMemberBoards(),t.canRemoveFromAllTeamBoards=this.org.owned()&&!this.org.isMember(this.model)&&e.length>0&&t.isPremium,t.teamBoardCount=e.length,t.hasBoards=t.teamBoardCount>0,this.org.isFeatureEnabled("orgCards")&&(t.orgCardsUrl=n.getOrganizationMemberCardsUrl(this.org.get("name"),t.username)),this.$el.html(p.fill("org_member_activity",t)),this.renderBoards(),o.update(this.el),this},t.prototype.getMemberBoards=function(){return this.org.boardList.models.filter((e=this,function(t){return c.contains(t.memberList.models,e.model)&&t.isOpen()}));var e},t.prototype.renderBoards=function(){var e,t,r,n,o,a;if((e=this.$(".js-member-boards")).children().detach(),a=[],0!==(r=this.getMemberBoards()).length){for(n=0,o=r.length;n<o;n++)t=r[n],a.push(this.subview(i,t,{member:this.model,organizationBoardCount:r.length}));return this.appendSubviews(a,e)}s.hide()},t.prototype.viewCards=function(){return d("Organization View","Members Page","Activity - View Org Cards")},t.prototype.viewBoards=function(e){u.stop(e),d("Organization View","Members Page","Activity - View Boards"),s.pushView({view:new a({model:this.model,parent:this.org,modelCache:this.modelCache})})},t.prototype.removeGuestFromTeamBoards=function(e){var t;u.stop(e),d("Organization View","Members Page","Activity - Remove From All Team Boards"),t=parseInt(this.$(e.target).closest("b").attr("data-teamboardcount"),10),s.pushView({view:new l({model:this.model,parent:this.org,modelCache:this.modelCache,teamBoardCount:t})})},t}()},4800:function(e,t,r){var n,o,i,a,s={}.hasOwnProperty;r(7),n=r(13),o=r(2),a=r(30),i=r(20),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n),t.prototype.viewTitleKey="boards for member",t.prototype.viewTitleArguments=function(){return{memberName:this.model.get("fullName")}},t.prototype.initialize=function(){this.org=this.options.parent},t.prototype.render=function(){var e,t;return(e=this.model.toJSON()).boards=this.org.boardList.models.filter((t=this,function(e){return o.contains(e.memberList.models,t.model)&&e.isOpen()})).map(function(e){return function(t){var r;return(r=t.toJSON()).memberType=i(["member types",t.getMemberType(e.model)]),r.url=t.getUrl(),r}}(this)),this.$el.html(a.fill("org_boards_for_member",e)),this},t}()},4801:function(e,t,r){var n,o,i,a,s,l,u,m={}.hasOwnProperty;s=r(4)("org_member_activity"),n=r(11),i=r(13),a=r(20),o=r(7),u=r(1).trackUe,l=s.renderable(function(e){var t,r,n,o,i,a,l;return a=e.name,l=e.url,i=e.memberType,n=e.canBeRemoved,o=e.isLoggedInUserBoardMember,t=e.backgroundColor,r=e.backgroundImageThumbnail,s.li(function(){if(s.a(".u-clearfix",{href:l,class:s.classify({removable:n&&o})},function(){return s.div(".org-board-tile",function(){return s.div(".thumbnail",{style:s.stylify({"background-color":t,"background-image":r?"url('"+r+"')":"none"})}),s.div(".org-board-name",function(){return s.span(function(){return s.text(a),s.text(" "),s.span(".quiet",function(){return s.format("membertype",{memberType:i})})})})}),n&&o?s.button(".js-remove-from-board",function(){return s.format("remove")}):n&&!o?s.button(".grayed-out-button",function(){return s.format("remove")}):void 0}),n&&!o)return s.span(".free-team-message",function(){return s.format("free-team-admins-cannot-remove-members")})})}),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)m.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,i),t.prototype.initialize=function(e){return this.member=e.member,this.organizationBoardCount=e.organizationBoardCount,t.__super__.initialize.apply(this,arguments)},t.prototype.events={"click .js-remove-from-board":"removeFromBoard"},t.prototype.removeFromBoard=function(e){return o.stop(e),this.model.removeMember(this.member),this.member.boardList.remove(this.model),u("team members view","removes","member","","board","member boards pop-over",{organization_board_count:this.organizationBoardCount,remover_member_id:n.myId(),removed_member_id:this.member.id,id_board:this.model.id,id_organization:this.model.get("idOrganization")})},t.prototype.render=function(){var e,t,r,i,s,u;return i=!!this.model.getPref("backgroundTile"),t=this.model.getPref("backgroundImage"),r=i?t:null!=(s=null!=(u=o.smallestPreviewBiggerThan(this.model.getPref("backgroundImageScaled"),400,200))?u.url:void 0)?s:t,e=this.model.getPref("backgroundColor"),this.$el.html(l({url:this.model.getUrl(),name:this.model.get("name"),memberType:a(["member types",this.model.getMemberType(this.member)]),canBeRemoved:this.model.canRemoveMember(this.member),isLoggedInUserBoardMember:this.model.isMember(n.me()),backgroundColor:e,backgroundImageThumbnail:r})),this},t}()},4802:function(e,t,r){var n,o,i,a,s,l,u,m={}.hasOwnProperty;n=r(51),o=r(14),i=r(7),a=r(13),u=r(4803),r(20),s=r(148),l=r(306),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)m.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a),t.prototype.viewTitleKey="remove from boards",t.prototype.events={"click .js-confirm-remove-from-team-boards":"confirmRemoveFromBoards"},t.prototype.render=function(){var e,t,r;return t=this.options.teamBoardCount,e=this.options.parent.boardList.filter((r=this,function(e){return e.isMember(r.model)&&e.ownedByMember(r.model)&&1===e.adminList.length})).map(function(e){return e.get("name")}),this.$el.html(u({fullName:this.model.get("fullName"),isOnlyAdminBoardNames:e,teamBoardCount:t,boardsRemainingCountLocalized:s("team boards",t-e.length),teamBoardCountLocalized:s("team boards",t)})),this},t.prototype.showError=function(e){var t;return t=l(e),n.showLiteralText(t,"error","alert",5e3)},t.prototype.confirmRemoveFromBoards=function(e){var t,r,a;return i.preventDefault(e),this.$(".js-confirm-remove-from-team-boards").attr("disabled",!0).addClass("disabled"),(t=(r=this.options.parent).boardList.filter((a=this,function(e){return e.getMembershipFor(a.model)&&(!e.ownedByMember(a.model)||e.ownedByMember(a.model)&&e.adminList.length>1)}))).forEach(function(e){return function(t){return t.removeMember(e.model)}}(this)),t.length&&(n.show("guest removed from team boards","warning","info",3e3),r.trigger("change:memberships")),o.hide()},t}()},4803:function(e,t,r){var n,o;o=r(4)("popover_remove_guest_from_team_boards"),n=r(1275),e.exports=o.renderable(function(e){var t,r,i,a,s;return r=e.fullName,i=e.isOnlyAdminBoardNames,a=e.teamBoardCount,t=e.boardsRemainingCountLocalized,s=e.teamBoardCountLocalized,o.p({style:"padding: 6px"},function(){return 0===i.length?1===a?o.format("remove from all team boards-disclaimer",{fullName:r,teamBoardCountLocalized:s}):o.format("remove from all team boards-disclaimer plural",{fullName:r,teamBoardCountLocalized:s}):(1===i.length?o.format("user is the only board admin",{fullName:r,adminBoardName:i[0]}):o.format("user is the only board admin plural",{fullName:r,adminBoardNames:n(i.slice(0),", "," "+o.l("and")+" ")}),i.length<a?o.p({style:"padding: 0 6px"},function(){return o.format("remove from all other team boards-disclaimer",{fullName:r,boardsRemainingCountLocalized:t})}):void 0)}),i.length===a?o.button(".button-link.primary.u-width-100.js-confirm-remove-from-team-boards",function(){return o.format("remove from all team boards-got-it")}):o.button(".button-link.primary.u-width-100.js-confirm-remove-from-team-boards.negate",function(){return o.format("remove from all team boards-confirm")})})},4804:function(e,t,r){var n,o,i={}.hasOwnProperty;n=r(1296),o=r(43),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n),t.prototype.apiChangeRole=function(e){if(t.__super__.apiChangeRole.apply(this,arguments),"admin"!==e&&this.isAdminAndMe())return o.navigate(o.getOrganizationUrl(this.parent),{trigger:!0})},t}()},4805:function(e,t,r){var n,o,i,a,s,l,u,m,c,p,d,h,f,g,b={}.hasOwnProperty;r(2),r(63),n=r(11),o=r(17).IconName,d=r(20),i=r(4806),s=r(4812),l=r(4500),a=r(4814),u=r(0),h=r(41)("org_members"),f=r(1).trackUe,m=r(271).UpgradePromptFullConnected,c=r(7),g=r(54),p=r(15).dontUpsell,e.exports=function(e){function t(e){t.__super__.constructor.apply(this,arguments),this.state={filter:"",showAll:!1}}return function(e,t){for(var r in t)b.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,u.Component),t.prototype.render=h.renderable(function(){return h.div(".org-members-page-layout",(e=this,function(){return h.div(".org-members-page-layout-sidebar",function(){if(h.addElement(e.orgSidebarPropsToElement()),e.props.sidebar.model.isMember(n.me())&&!e.props.sidebar.hasBC&&!p)return h.addElement(e.orgAdComponent())}),h.div(".org-members-page-layout-list",function(){return e.props.isFetchingCollaborators&&"guest"===e.props.memberTypeFilter?h.div(".spinner.loading.centered"):(h.addElement(e.getOrganizationActionsElement()),h.addElement(e.getMemberListElement()))})}));var e}),t.prototype.orgAdComponent=function(){var e;return e={content:d(["upgrade prompt","team page","members","content-2"]),headline:d(["upgrade prompt","team page","members","headline-2"]),cta:d(["upgrade prompt","learn more"]),ctaLink:this.props.sidebar.billingUrl,ctaOnClick:function(){return f("team page","opens","team page bc tab","","","by clicking full upgrade prompt in team page members tab")},iconName:o.Member,isDarkTheme:!0},u.createElement(m,e)},t.prototype.isGuest=function(){return this.props.collaboratorModels.some(function(e){return e.isMe})},t.prototype.orgSidebarPropsToElement=function(){var e,t;return e=g(this.props.sidebar,{orgIsEmpty:this.props.orgIsEmpty,orgMemberCount:this.props.orgMemberModels.length,guestMemberCount:this.props.collaboratorModels.length,memberTypeFilter:this.props.memberTypeFilter,showGuestTab:n.isLoggedIn()&&(this.props.sidebar.model.isMember(n.me())||this.isGuest()),onMemberTypeChange:(t=this,function(e){return t.setState({filter:""}),t.props.changeMemberTypeFilter(e)})}),u.createElement(s,e)},t.prototype.getMemberListElement=function(){var e,t,r,n,o,i,s,m,c,p,d,h;if(e=(p=this.props).collaboratorModels,o=p.memberTypeFilter,s=p.orgIsEmpty,m=p.orgMemberModels,i=p.orgIsBC,t=p.isFetchingBoards,c="free",i&&(c="bc"),r="guest"===o?a:l,d=(n="guest"===o?e:"team-member"===o?s?[]:m:void 0).filter((h=this,function(e){return h.isVisibleMember(e)})),n.length)return u.createElement(r,{memberTypeFilter:o,memberItems:d,orgIsBC:i,orgType:c,isFetchingBoards:t})},t.prototype.isVisibleMember=function(e){return(!e.hidden||this.state.showAll)&&(!this.state.filter||c.buildFuzzyMatcher(this.state.filter)(e.fullName))},t.prototype.getOrganizationActionsElement=function(){var e,t;return e=g(this.props.sidebar,{orgId:this.props.orgId,orgMemberCount:this.props.orgMemberModels.length,orgIsEmpty:this.props.orgIsEmpty,guestMemberCount:this.props.collaboratorModels.length,isEnterpriseAdmin:this.props.isEnterpriseAdmin,memberTypeFilter:this.props.memberTypeFilter,hasBC:this.props.sidebar.hasBC,ownsOrg:this.props.sidebar.ownsOrg,orgName:this.props.orgName,orgIsPO:this.props.orgIsPO,filter:this.state.filter,onFilterChange:(t=this,function(e){return t.setState({filter:e})}),onShowAllChange:function(e){return function(t){return e.setState({showAll:t})}}(this)}),u.createElement(i,e)},t}()},4806:function(e,t,r){var n,o,i,a,s,l,u,m={}.hasOwnProperty;a=r(0),s=r(23).featureFlagClient,n=r(4941).InviteTeamMembers,o=r(4085).InviteTeamMembersAutocompleteComponent,i=r(4809),u=r(41)("org_members"),l=r(35).isDesktop(),e.exports=function(e){function t(e){t.__super__.constructor.apply(this,arguments),this.state={showingAll:!1,personalizedTeamInvitesEnabled:s.get("walrus.personalized_team_invites",!1)}}return function(e,t){for(var r in t)m.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a.Component),t.prototype.render=u.renderable(function(){var e,t,s,m,c,p,d,h,f,g,b,v,y,w,_,M,C,x,k,T,E,A;return k=this.props,t=k.canManageMembers,k.openManageMembers,s=k.filter,b=k.onFilterChange,v=k.onShowAllChange,p=k.inviteTeamMembers,M=k.orgMemberCount,w=k.orgIsEmpty,m=k.guestMemberCount,d=k.isEnterpriseAdmin,k.orgName,h=k.memberTypeFilter,y=k.orgId,c=k.hasBC,C=k.ownsOrg,_=k.orgIsPO,f=k.model,e=k.bulkAddMemberErrors,T=this.state,E=T.showingAll,x=T.personalizedTeamInvitesEnabled,A=this,function(){return E=!A.state.showingAll,A.setState({showingAll:E}),v(E)},g=function(e){return f.updateBulkAddMemberErrors(null)},u.div(function(){return u.div(".org-members-section",{class:u.classify({active:"team-member"===h})},function(){return!w||e?u.div(".org-members-actions-container",function(){return u.div(".org-members-actions-header",function(){return u.h1(function(){if(u.format("team-members"),u.raw("&nbsp;"),u.span(".team-member-count",function(){return u.text("("+M+")")}),c)return u.icon("enterprise")}),u.p(function(){return f.belongsToRealEnterprise()&&(t||d)?u.format("team-members-view-enterprise"):c&&t&&!_?u.format("team-members-view-bc"):u.format("team-members-view")})}),e&&u.addElement(a.createElement(i,{statusMessages:e,onDismiss:g})),u.div(".org-members-actions",function(){return u.div(".org-members-actions-search",function(){return u.input(".org-members-page-navigation-input",{type:"text",placeholder:u.l("filter-by-name"),value:s,onChange:function(e){return b(e.target.value)}})}),u.div(".org-members-actions-add",function(){if(t)return u.b(p,{class:"primary button-link autowrap"},function(){return u.icon("add-member","invite-team-members")})})})}):(u.div(".org-members-empty-container",function(){return x?u.createElement(n,{orgId:y,model:f,orgDisplayName:f.get("displayName")}):(u.img({className:"org-members-team-illustration",alt:u.l("invite-your-team"),src:r(4810)}),u.div(".org-members-empty-content",function(){return u.h1(".org-members-heading",function(){return u.format("invite-your-team")}),u.p(".org-members-subheading",function(){return u.format("trello-works-best")}),u.addElement(a.createElement(o,{placeholder:u.l("invite-input-placeholder"),orgId:y,model:f}))}))}),!c||_||d?void 0:u.p(".org-members-empty-bc-billing.quiet",function(){return u.icon("enterprise"),u.format("inviting-new-members-will-update-billing")}))}),u.div(".org-members-section",{class:u.classify({active:"guest"===h})},function(){return m?u.div(".org-members-actions-container",function(){return u.div(".org-members-actions-header",function(){return u.h1(function(){return u.format("guests"),u.raw("&nbsp;"),u.span(".guest-member-count",function(){return u.text("("+m+")")})}),u.p(function(){return f.belongsToRealEnterprise()&&(t||d)?(u.format("guests-view"),u.raw("<br/>"),u.format("guests-view-enterprise")):c&&C&&t&&!l?u.format("guests-view-bc"):u.format("guests-view")})}),e&&u.addElement(a.createElement(i,{statusMessages:e,onDismiss:g})),u.div(".org-members-actions",function(){return u.div(".org-members-actions-search",function(){return u.input(".org-members-page-navigation-input",{type:"text",placeholder:u.l("filter-by-name"),value:s,onChange:function(e){return b(e.target.value)}})})})}):u.div(".org-members-empty-container",function(){return u.img({className:"org-members-guest-illustration",alt:u.l("boards-shared-with-friends"),src:r(4811)}),u.div(".org-members-empty-content",function(){return u.h1(".org-members-heading",function(){return u.format("boards-shared-with-friends")}),u.p(".org-members-subheading",function(){return u.format("if-client-contractors")})})})})})}),t}()},4807:function(e,t,r){var n=r(4808);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(19)(n,o);n.locals&&(e.exports=n.locals)},4808:function(e,t,r){(t=e.exports=r(18)(!1)).push([e.i,"._2cjYZcP98PeOVS{align-items:flex-start;display:flex;padding:0 64px;text-align:left}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px),only screen and (min-width:901px) and (max-width:1280px){._2cjYZcP98PeOVS{align-items:center;flex-direction:column}}._3Z-f1YeQfWWnEG{padding:20px 28px 16px 96px}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px),only screen and (min-width:901px) and (max-width:1280px){._3Z-f1YeQfWWnEG{order:-1;padding:0 0 48px}}",""]),t.locals={inviteTeamMembers:"_2cjYZcP98PeOVS",invitationIllustration:"_3Z-f1YeQfWWnEG"}},4809:function(e,t,r){var n,o,i,a={}.hasOwnProperty;o=r(2),n=r(0),i=r(41)("org_members"),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n.Component),t.prototype.render=i.renderable(function(){var e,t,r,n;return r=this.props,n=r.statusMessages,t=r.onDismiss,e=o.without(n._categories,n._categories.ADDED),i.div(".org-members-actions-status-error",function(){var r,a,s,l,u,m;for(i.div(".org-members-actions-status-error-close",function(){return i.icon("close",{onClick:t})}),i.format("add-member-error"),m=[],a=0,s=(l=o.values(e)).length;a<s;a++)r=l[a],(null!=(u=n[r])?u.length:void 0)>0&&m.push(i.p(".message",function(){return i.span(".error-message-text",function(){return i.format("add-member-error-"+r)}),i.text(" "),i.text(n[r].join(", "))}));return m})}),t}()},4810:function(e,t,r){e.exports=r.p+"images/organization/new-team.b0d9f513a05be128693e.svg"},4811:function(e,t,r){e.exports=r.p+"images/organization/guests.a76a836ff67e77d7f911.svg"},4812:function(e,t,r){var n,o,i,a={}.hasOwnProperty;n=r(0),i=r(41)("org_members"),o=r(38).TeamTestIds,e.exports=function(e){function t(e){t.__super__.constructor.apply(this,arguments),this.state={showingAll:!1}}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,n.Component),t.prototype.render=i.renderable(function(){var e,t,r,n,a,s,l,u,m,c,p;return(u=this.props).canShowAll,u.openManageMembers,u.filter,u.onFilterChange,a=u.onShowAllChange,r=u.memberTypeFilter,n=u.onMemberTypeChange,s=u.orgIsEmpty,l=u.orgMemberCount,e=u.guestMemberCount,m=u.showGuestTab,t=u.isFetchingCollaborators,c=this.state.showingAll,p=this,function(){return c=!p.state.showingAll,p.setState({showingAll:c}),a(c)},i.div(function(){return i.div(".org-members-page-navigation-list",function(){return i.div(".org-members-options",function(){return i.div(".org-members-filter-list",function(){return i.h1(function(){return i.format("members-of-team-boards")}),i.ul(".org-members-filter",function(){if(i.li(function(){return i.a({className:"team-member"===r?"active":void 0,href:"#","data-test-id":o.TeamMembersLink,onClick:function(e){return n("team-member")}},function(){if(i.format("team-members"),!s)return i.raw("&nbsp;"),i.text("("+l+")")})}),m)return i.li(function(){return i.a({className:"guest"===r?"active":void 0,href:"#",onClick:function(e){return n("guest")}},function(){if(i.format("guests"),t&&(i.raw("&nbsp;"),i.span(".spinner.spinner--inline.small")),e)return i.raw("&nbsp;"),i.text("("+e+")")})})})})})})})}),t}()},4813:function(e,t,r){e.exports=r.p+"images/organization/missing.930abc84ebe27331d32a.svg"},4814:function(e,t,r){var n,o,i,a,s,l={}.hasOwnProperty;o=r(0),s=r(41)("org_members"),r(4501),n=r(4500),i=r(35).isDesktop(),a=r(20),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,o.Component),t.prototype.render=s.renderable(function(){var e,t,r,l,u,m;return m=this.props,t=m.memberItems,r=m.memberTypeFilter,l=m.orgIsBC,u=m.orgType,e=m.isFetchingBoards,i&&(u="free"),s.div(function(){var m,c;if(m=t.filter(function(e){return e.boardCount>1}),c=t.filter(function(e){return 1===e.boardCount}),(m.length>0||0===c.length&&0===m.length)&&s.div(".org-guest-section",function(){return s.h3(function(){if(s.format("multi-board-guests",{count:m.length,className:".org-members-space-right"}),l)return s.icon("business-class")}),s.p(function(){if(s.format(u+"-multi-board-guests-are-members-of"),!i)return s.text(" "),"https://help.trello.com/article/1123-multi-board-guests",s.a({href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},function(){return s.text(a(["templates","select_member","learn-more"]))})}),s.addElement(o.createElement(n,{memberItems:m,memberTypeFilter:r,isFetchingBoards:e}))}),c.length>0||0===c.length&&0===m.length)return s.div(".org-guest-section",function(){return s.h3(function(){return s.format("single-board-guests",{count:c.length})}),s.p(function(){return s.format(u+"-single-board-guests-are-members-of")}),s.addElement(o.createElement(n,{memberItems:c,memberTypeFilter:r,isFetchingBoards:e}))})})}),t}()},4815:function(e,t,r){var n,o,i,a,s,l,u,m,c,p={}.hasOwnProperty;n=r(10),r(134),o=r(11),i=r(43),a=r(14),s=r(7),l=r(13),m=r(30),c=r(1).track,u=r(20),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,l),t.prototype.viewTitleKey=function(){return this.org.isPremium()?"remove or deactivate member":"remove member"},t.prototype.initialize=function(){return this.org=this.options.org,this.onRemoveSuccess=this.options.onRemoveSuccess},t.prototype.events={"click .js-deactivate":"deactivateMember","click .js-soft-remove":"removeMember"},t.prototype.isEnterpriseAdmin=function(e){var t;return this.org.isEnterprise()&&(null!=(t=this.org.getEnterprise())?t.isAdmin(e):void 0)},t.prototype.render=function(){var e,t;return t=this.org.getMemberType(this.model,{ignoreEntAdminStatus:!0}),(e=this.model.toJSON()).orgMemberType=u(["member types",t]),e.ownsOrg=this.org.owned(),e.orgIsBC=this.org.isPremium(),e.isDeactivated="deactivated"===t,e.isOrgMember="public"!==t,e.isVirtual="virtual"===t,e.canDeactivate=(this.org.isPremOrgAdmin(o.me())||this.isEnterpriseAdmin(o.me()))&&!e.isVirtual&&!e.isDeactivated,e.isMe=o.isMe(this.model),this.$el.html(m.fill("org_remove_or_deactivate_member",e)),this},t.prototype._checkIfLostVisibility=function(){var e;if(o.isMe(this.model)&&(!this.org.isEnterprise()||!(null!=(e=this.org.getEnterprise())?e.isAdmin(this.model):void 0)))return i.navigate("/",{trigger:!0})},t.prototype.deactivateMember=function(e){s.stop(e),this.org.deactivateMember(this.model),this._checkIfLostVisibility(),a.hide()},t.prototype.removeMember=function(e){var t;s.stop(e),n(this.el).find("#hardRemove").is(":checked")||"deactivated"===this.org.getMemberType(this.model,{ignoreEntAdminStatus:!0})?(t="Hard Remove",this.org.memberList.removeMembership(this.model,{mass:!0,success:this.onRemoveSuccess})):(t="Soft Remove",this.org.memberList.removeMembership(this.model,{success:this.onRemoveSuccess})),c("Organization","Remove Member From Organization",t),a.hide(),this._checkIfLostVisibility()},t}()},4941:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=r(4807),a=r.n(i),s=r(845),l=r(4429),u=r(283);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e){var t=c(Object(n.useState)(Object(u.j)()?1:3),2),r=t[0],i=t[1];return o.a.createElement("div",{className:a.a.inviteTeamMembers},o.a.createElement(l.a,m({startAnimation:function(){i(r+1)}},e)),o.a.createElement("div",{className:a.a.invitationIllustration},o.a.createElement(s.a,{animationStep:r})))};r.d(t,"InviteTeamMembers",function(){return p})}}]);
//# sourceMappingURL=organization-members-view.dd52a77dfc829ded018b.js.map